2025-09-11 22:15:50,846 - app.services.db.image_service - INFO - Final public URL: https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/public/images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/bae6347b-2dbc-4e30-8bdf-35998e64d6b3.jpg?
2025-09-11 22:15:50,849 - app.main - INFO - Response status: 200
2025-09-11 22:15:57,585 - app.main - INFO - Request: DELETE /db/workouts/f3384147-352c-4f96-8c64-4b12b89346c6
2025-09-11 22:15:57,588 - app.api.endpoints.db - INFO - API request to delete workout: f3384147-352c-4f96-8c64-4b12b89346c6
2025-09-11 22:15:57,588 - app.services.db.workout_service - INFO - Deleting workout: f3384147-352c-4f96-8c64-4b12b89346c6
2025-09-11 22:15:58,110 - app.services.db.workout_service - INFO - Successfully deleted workout: f3384147-352c-4f96-8c64-4b12b89346c6
2025-09-11 22:15:58,111 - app.main - INFO - Response status: 200
2025-09-11 22:15:58,112 - app.main - INFO - Request: DELETE /db/workouts/99b3cf8a-f579-4c4b-b6b6-386cbf110962
2025-09-11 22:15:58,112 - app.api.endpoints.db - INFO - API request to delete workout: 99b3cf8a-f579-4c4b-b6b6-386cbf110962
2025-09-11 22:15:58,113 - app.services.db.workout_service - INFO - Deleting workout: 99b3cf8a-f579-4c4b-b6b6-386cbf110962
2025-09-11 22:15:58,657 - app.services.db.workout_service - INFO - Successfully deleted workout: 99b3cf8a-f579-4c4b-b6b6-386cbf110962
2025-09-11 22:15:58,658 - app.main - INFO - Response status: 200
2025-09-11 22:15:59,932 - app.main - INFO - Request: DELETE /db/workouts/e7524ef9-3da6-4096-954c-9326cb564d73
2025-09-11 22:15:59,933 - app.api.endpoints.db - INFO - API request to delete workout: e7524ef9-3da6-4096-954c-9326cb564d73
2025-09-11 22:15:59,933 - app.services.db.workout_service - INFO - Deleting workout: e7524ef9-3da6-4096-954c-9326cb564d73
2025-09-11 22:16:01,120 - app.services.db.workout_service - INFO - Successfully deleted workout: e7524ef9-3da6-4096-954c-9326cb564d73
2025-09-11 22:16:01,121 - app.main - INFO - Response status: 200
2025-09-11 22:32:43,043 - app.main - INFO - Request: GET /api/leaderboard/biceps
2025-09-11 22:32:44,217 - app.main - INFO - Response status: 200
2025-09-11 22:33:32,584 - app.main - INFO - Request: POST /images/temp-upload
2025-09-11 22:33:32,589 - app.api.endpoints.images - INFO - User ID from endpoint: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-09-11 22:33:32,589 - app.api.endpoints.images - INFO - User ID type: <class 'str'>
2025-09-11 22:33:32,589 - app.api.endpoints.images - INFO - JWT token length: 871
2025-09-11 22:33:32,589 - app.api.endpoints.images - INFO - JWT starts with: eyJhbGciOiJIUzI1NiIsImtpZCI6IlZxeno3RjFVNVFDSmkvN2...
2025-09-11 22:33:32,799 - app.api.endpoints.images - INFO - User client created successfully: True
2025-09-11 22:33:33,008 - app.api.endpoints.images - INFO - Test query successful: True
2025-09-11 22:33:33,009 - app.services.db.image_service - INFO - Creating temp image with path: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3/d9adff0a-46b3-4d5c-bcd5-7160bcf1160b.jpg
2025-09-11 22:33:33,009 - app.services.db.image_service - INFO - User ID to insert: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3 (type: <class 'str'>)
2025-09-11 22:33:33,152 - app.services.db.image_service - INFO - About to insert: {'file_path': '1e2d6190-5d52-4f48-974c-7a5a43a50bf3/d9adff0a-46b3-4d5c-bcd5-7160bcf1160b.jpg', 'user_id': '1e2d6190-5d52-4f48-974c-7a5a43a50bf3', 'status': 'temporary', 'expires_at': '2025-09-12T21:33:33.152498'}
2025-09-11 22:33:33,429 - app.services.db.image_service - INFO - Created temp image record with ID: 989150eb-25b7-4a6b-9db3-7123cd48fa42
2025-09-11 22:33:33,429 - app.services.db.image_service - INFO - About to create signed URL...
2025-09-11 22:33:33,715 - app.services.db.image_service - INFO - Signed URL response type: <class 'dict'>
2025-09-11 22:33:33,715 - app.services.db.image_service - INFO - Signed URL response: {'signed_url': 'https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/upload/sign/images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/d9adff0a-46b3-4d5c-bcd5-7160bcf1160b.jpg?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8wNDg3ODljNy1mYmQ1LTQ4OWQtYjVmNC03NjM1NWFhMDRhODYiLCJhbGciOiJIUzI1NiJ9.eyJvd25lciI6IjFlMmQ2MTkwLTVkNTItNGY0OC05NzRjLTdhNWE0M2E1MGJmMyIsInVybCI6ImltYWdlcy8xZTJkNjE5MC01ZDUyLTRmNDgtOTc0Yy03YTVhNDNhNTBiZjMvZDlhZGZmMGEtNDZiMy00ZDVjLWJjZDUtNzE2MGJjZjExNjBiLmpwZyIsInVwc2VydCI6ZmFsc2UsImlhdCI6MTc1NzYyNjQxMywiZXhwIjoxNzU3NjMzNjEzfQ.wBHUvskmi_CFa5_iKEeew0K6T7NG26vEiKvTKFoMtBg', 'signedUrl': 'https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/upload/sign/images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/d9adff0a-46b3-4d5c-bcd5-7160bcf1160b.jpg?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8wNDg3ODljNy1mYmQ1LTQ4OWQtYjVmNC03NjM1NWFhMDRhODYiLCJhbGciOiJIUzI1NiJ9.eyJvd25lciI6IjFlMmQ2MTkwLTVkNTItNGY0OC05NzRjLTdhNWE0M2E1MGJmMyIsInVybCI6ImltYWdlcy8xZTJkNjE5MC01ZDUyLTRmNDgtOTc0Yy03YTVhNDNhNTBiZjMvZDlhZGZmMGEtNDZiMy00ZDVjLWJjZDUtNzE2MGJjZjExNjBiLmpwZyIsInVwc2VydCI6ZmFsc2UsImlhdCI6MTc1NzYyNjQxMywiZXhwIjoxNzU3NjMzNjEzfQ.wBHUvskmi_CFa5_iKEeew0K6T7NG26vEiKvTKFoMtBg', 'token': 'eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8wNDg3ODljNy1mYmQ1LTQ4OWQtYjVmNC03NjM1NWFhMDRhODYiLCJhbGciOiJIUzI1NiJ9.eyJvd25lciI6IjFlMmQ2MTkwLTVkNTItNGY0OC05NzRjLTdhNWE0M2E1MGJmMyIsInVybCI6ImltYWdlcy8xZTJkNjE5MC01ZDUyLTRmNDgtOTc0Yy03YTVhNDNhNTBiZjMvZDlhZGZmMGEtNDZiMy00ZDVjLWJjZDUtNzE2MGJjZjExNjBiLmpwZyIsInVwc2VydCI6ZmFsc2UsImlhdCI6MTc1NzYyNjQxMywiZXhwIjoxNzU3NjMzNjEzfQ.wBHUvskmi_CFa5_iKEeew0K6T7NG26vEiKvTKFoMtBg', 'path': '1e2d6190-5d52-4f48-974c-7a5a43a50bf3/d9adff0a-46b3-4d5c-bcd5-7160bcf1160b.jpg'}
2025-09-11 22:33:33,716 - app.services.db.image_service - INFO - Successfully created upload URL
2025-09-11 22:33:33,716 - app.services.db.image_service - INFO - Returning response: {'image_id': '989150eb-25b7-4a6b-9db3-7123cd48fa42', 'upload_url': 'https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/upload/sign/images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/d9adff0a-46b3-4d5c-bcd5-7160bcf1160b.jpg?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8wNDg3ODljNy1mYmQ1LTQ4OWQtYjVmNC03NjM1NWFhMDRhODYiLCJhbGciOiJIUzI1NiJ9.eyJvd25lciI6IjFlMmQ2MTkwLTVkNTItNGY0OC05NzRjLTdhNWE0M2E1MGJmMyIsInVybCI6ImltYWdlcy8xZTJkNjE5MC01ZDUyLTRmNDgtOTc0Yy03YTVhNDNhNTBiZjMvZDlhZGZmMGEtNDZiMy00ZDVjLWJjZDUtNzE2MGJjZjExNjBiLmpwZyIsInVwc2VydCI6ZmFsc2UsImlhdCI6MTc1NzYyNjQxMywiZXhwIjoxNzU3NjMzNjEzfQ.wBHUvskmi_CFa5_iKEeew0K6T7NG26vEiKvTKFoMtBg', 'file_path': '1e2d6190-5d52-4f48-974c-7a5a43a50bf3/d9adff0a-46b3-4d5c-bcd5-7160bcf1160b.jpg'}
2025-09-11 22:33:33,716 - app.main - INFO - Response status: 200
2025-09-11 22:33:34,380 - app.main - INFO - Request: GET /images/989150eb-25b7-4a6b-9db3-7123cd48fa42/url
2025-09-11 22:33:34,383 - app.api.endpoints.images - INFO - API request to get image URL: 989150eb-25b7-4a6b-9db3-7123cd48fa42
2025-09-11 22:33:34,383 - app.services.db.image_service - INFO - Getting image URL for ID: 989150eb-25b7-4a6b-9db3-7123cd48fa42
2025-09-11 22:33:35,023 - app.services.db.image_service - INFO - Found file path: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3/d9adff0a-46b3-4d5c-bcd5-7160bcf1160b.jpg
2025-09-11 22:33:35,041 - app.services.db.image_service - INFO - Public URL response type: <class 'str'>
2025-09-11 22:33:35,041 - app.services.db.image_service - INFO - Public URL response: https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/public/images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/d9adff0a-46b3-4d5c-bcd5-7160bcf1160b.jpg?
2025-09-11 22:33:35,041 - app.services.db.image_service - INFO - Public URL keys: Not a dict
2025-09-11 22:33:35,041 - app.services.db.image_service - INFO - Used direct string
2025-09-11 22:33:35,041 - app.services.db.image_service - INFO - Final public URL: https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/public/images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/d9adff0a-46b3-4d5c-bcd5-7160bcf1160b.jpg?
2025-09-11 22:33:35,042 - app.main - INFO - Response status: 200
2025-09-11 22:34:02,385 - app.main - INFO - Request: POST /db/workouts
2025-09-11 22:34:02,391 - app.services.rate_limiter - INFO - Permission level not in JWT, looking up from database for user 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-09-11 22:34:02,952 - app.api.endpoints.db - INFO - API request to create workout: Name name
2025-09-11 22:34:02,952 - app.services.db.workout_service - INFO - Creating workout: Name name for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-09-11 22:34:02,952 - app.services.db.workout_service - INFO - Inserting workout with data: Name name
2025-09-11 22:34:03,325 - app.services.db.workout_service - INFO - Workout created with ID: 788abd4f-cd86-4b6f-87da-2fa4f09eefdd
2025-09-11 22:34:03,325 - app.services.db.workout_service - INFO - Creating 1 exercises for workout: 788abd4f-cd86-4b6f-87da-2fa4f09eefdd
2025-09-11 22:34:03,326 - app.services.db.workout_service - INFO - Creating exercise 1/1: Preacher Curl
2025-09-11 22:34:03,486 - app.services.db.workout_service - INFO - Exercise created: Preacher Curl with ID: 3ddffeca-ef8c-4999-a955-5f314c12bdbb
2025-09-11 22:34:04,414 - app.services.db.workout_service - INFO - Updated bicep leaderboard for user 1e2d6190-5d52-4f48-974c-7a5a43a50bf3: 85.83 1RM
2025-09-11 22:34:04,414 - app.services.db.workout_service - INFO - Workout creation complete for ID: 788abd4f-cd86-4b6f-87da-2fa4f09eefdd
2025-09-11 22:34:04,416 - app.main - INFO - Response status: 200
2025-09-11 22:34:04,549 - app.main - INFO - Request: POST /images/989150eb-25b7-4a6b-9db3-7123cd48fa42/commit
2025-09-11 22:34:04,550 - app.api.endpoints.images - INFO - API request to commit image: 989150eb-25b7-4a6b-9db3-7123cd48fa42
2025-09-11 22:34:04,550 - app.services.db.image_service - INFO - Committing image to permanent: 989150eb-25b7-4a6b-9db3-7123cd48fa42
2025-09-11 22:34:04,869 - app.services.db.image_service - INFO - Successfully committed image: 989150eb-25b7-4a6b-9db3-7123cd48fa42
2025-09-11 22:34:04,880 - app.main - INFO - Response status: 200
2025-09-11 22:34:05,304 - app.main - INFO - Request: GET /api/dashboard
