2025-06-06 17:15:09,935 - app.services.chains.base_conversation_chain - INFO - Content:  try and talk like a human fitness coach!


Current workout data context:
Available workout data:
            {
  "available_data": {
    "query": "Analyze progress for: Bench Press, Overhead Press, Incline Dumbbell Press, Tricep Dips",
    "date_range": {
      "start": "2025-03-28T16:51:04.357000+00:00",
      "end": "2025-06-06T16:07:40.345243+00:00"
    },
    "workout_metrics": {
      "exercise_progression": {
        "Barbell Bench Press": {
          "occurrences": 34,
          "first_date": "2025-03-28T16:51:04.357+00:00",
          "last_date": "2025-04-18T17:39:29.41+00:00",
          "weight_progression": {
            "start": 95,
            "current": 90,
            "change": -5,
            "change_percent": -5.3
          },
          "volume_trend": "stable"
        },
        "Tricep Dips": {
          "occurrences": 10,
          "first_date": "2025-05-26T14:45:57.73513+00:00",
          "last_date": "2025-06-06T16:07:40.345243+00:00",
          "weight_progression": {
            "start": 0,
            "current": 0,
            "change": 0,
            "change_percent": 0
          },
          "volume_trend": "stable"
        },
        "Overhead Press": {
          "occurrences": 10,
          "first_date": "2025-05-26T14:45:57.73513+00:00",
          "last_date": "2025-06-06T16:07:40.345243+00:00",
          "weight_progression": {
            "start": 50,
            "current": 50,
            "change": 0,
            "change_percent": 0
          },
          "volume_trend": "stable"
        },
        "Incline Dumbbell Press": {
          "occurrences": 10,
          "first_date": "2025-05-26T14:45:57.73513+00:00",
          "last_date": "2025-06-06T16:07:40.345243+00:00",
          "weight_progression": {
            "start": 30,
            "current": 30,
            "change": 0,
            "change_percent": 0
          },
          "volume_trend": "stable"
        },
        "Bench Press": {
          "occurrences": 10,
          "first_date": "2025-05-26T14:45:57.73513+00:00",
          "last_date": "2025-06-06T16:07:40.345243+00:00",
          "weight_progression": {
            "start": 80,
            "current": 80,
            "change": 0,
            "change_percent": 0
          },
          "volume_trend": "stable"
        },
        "Dips": {
          "occurrences": 15,
          "first_date": "2025-04-07T15:18:47.869+00:00",
          "last_date": "2025-05-27T12:22:10.128012+00:00",
          "weight_progression": {
            "start": 95,
            "current": 12.5,
            "change": -82.5,
            "change_percent": -86.8
          },
          "volume_trend": "stable"
        }
      },
      "strength_progression": {},
      "most_improved_exercises": [],
      "workout_frequency": {
        "total_workouts": 48,
        "first_workout": "2025-03-28",
        "last_workout": "2025-06-06",
        "total_days": 70,
        "avg_days_between": 1.3,
        "workouts_per_week": 5.4,
        "consistency_score": {
          "score": 0,
          "streak": 1
        }
      }
    },
    "total_workouts": 48,
    "correlation_analysis": []
  }
}

Visualizations and metrics:

CHARTS:
Strength Progress Chart, Volume Progress Chart, Weekly Workout Frequency Chart

CONSISTENCY METRICS:
- Score: 0/100
- Current streak: 1 workouts
- Average frequency: Every 1.3 days

TOP PERFORMERS:
- Strength gains: No significant strength gains detected
- Volume increases: No significant volume increases detected
- Most frequent exercises: Not enough data

2025-06-06 17:15:09,940 - app.services.chains.base_conversation_chain - INFO - 
Message 2 (HumanMessage):
2025-06-06 17:15:09,940 - app.services.chains.base_conversation_chain - INFO - Content: Analyze this workout data
2025-06-06 17:15:09,941 - app.services.chains.base_conversation_chain - INFO - =====================
2025-06-06 17:15:20,499 - app.main - INFO - Request: POST /db/conversations/f290042b-0bbf-434e-957a-e340b04ae64f/messages
2025-06-06 17:15:20,615 - app.api.endpoints.db - INFO - API request to save message to conversation: f290042b-0bbf-434e-957a-e340b04ae64f
2025-06-06 17:15:20,615 - app.services.db.conversation_service - INFO - Getting conversation: f290042b-0bbf-434e-957a-e340b04ae64f
2025-06-06 17:15:20,719 - app.services.db.conversation_service - INFO - Retrieved conversation: f290042b-0bbf-434e-957a-e340b04ae64f
2025-06-06 17:15:20,719 - app.services.db.conversation_service - INFO - Saving assistant message to conversation: f290042b-0bbf-434e-957a-e340b04ae64f
2025-06-06 17:15:20,825 - app.services.db.conversation_service - INFO - Message saved with ID: eebb11b4-b476-4c08-8ff4-548e9895ec2f
2025-06-06 17:15:20,827 - app.main - INFO - Response status: 200
2025-06-06 17:16:08,004 - app.services.llm.workout_analysis - ERROR - Error in LLM websocket: (1000, '')
Traceback (most recent call last):
  File "/Users/mileshillary/Documents/supreme-octo-doodle/backend/app/services/llm/workout_analysis.py", line 56, in process_websocket
    data = await websocket.receive_json()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/websockets.py", line 135, in receive_json
    self._raise_on_disconnect(message)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/websockets.py", line 113, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1000, '')
2025-06-06 17:16:08,015 - app.main - INFO - Request: GET /db/conversations
2025-06-06 17:16:08,134 - app.api.endpoints.db - INFO - API request to get active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 17:16:08,135 - app.api.endpoints.db - INFO - Creating ConversationService instance
2025-06-06 17:16:08,135 - app.api.endpoints.db - INFO - Supabase client available: True
2025-06-06 17:16:08,267 - app.api.endpoints.db - INFO - Supabase client test query successful
2025-06-06 17:16:08,268 - app.api.endpoints.db - INFO - Calling get_user_conversations method
2025-06-06 17:16:08,268 - app.services.db.conversation_service - INFO - Getting active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 17:16:08,336 - app.services.db.conversation_service - INFO - Retrieved 1 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 17:16:08,336 - app.api.endpoints.db - INFO - Retrieved 1 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 17:16:08,337 - app.main - INFO - Response status: 200
2025-06-06 17:16:39,813 - app.main - INFO - Request: GET /db/workouts/user
2025-06-06 17:16:39,934 - app.api.endpoints.db - INFO - API request to get all workouts for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 17:16:39,935 - app.services.db.workout_service - INFO - Getting all workouts for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 17:16:40,461 - app.services.db.workout_service - INFO - Retrieved 117 workouts for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 17:16:40,461 - app.api.endpoints.db - INFO - Retrieved 117 workouts for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 17:16:40,523 - app.main - INFO - Response status: 200
2025-06-06 17:21:32,235 - app.services.job_store - INFO - Cleaned up 1 expired jobs
2025-06-06 17:23:32,235 - app.services.job_store - INFO - Cleaned up 1 expired jobs
2025-06-06 19:24:58,787 - app.main - INFO - Request: GET /db/user-profile
2025-06-06 19:24:59,021 - app.api.endpoints.db - INFO - API request to get profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 19:24:59,022 - app.services.db.user_profile_service - INFO - Getting profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 19:24:59,257 - app.services.db.user_profile_service - INFO - Successfully retrieved profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 19:24:59,258 - app.main - INFO - Request: GET /db/exercise-definitions
2025-06-06 19:24:59,371 - app.api.endpoints.db - INFO - API request to get all exercise definitions
2025-06-06 19:24:59,371 - app.services.db.exercise_definition_service - INFO - Fetching all exercise definitions
2025-06-06 19:24:59,470 - app.services.db.exercise_definition_service - INFO - Fetched 167 exercise definitions
2025-06-06 19:24:59,484 - app.main - INFO - Response status: 200
2025-06-06 19:24:59,486 - app.main - INFO - Request: GET /api/dashboard
2025-06-06 19:24:59,486 - app.main - INFO - Response status: 200
2025-06-06 19:24:59,488 - app.main - INFO - Response status: 200
2025-06-06 19:24:59,655 - app.main - INFO - Request: GET /db/workouts/templates
2025-06-06 19:24:59,715 - app.api.endpoints.db - INFO - API request to get workout templates for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 19:24:59,716 - app.services.db.workout_service - INFO - Getting workout templates for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 19:24:59,885 - app.services.db.workout_service - INFO - Retrieved 50 templates for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 19:24:59,903 - app.main - INFO - Response status: 200
2025-06-06 19:35:55,332 - app.main - INFO - Request: GET /db/user-profile
2025-06-06 19:35:55,652 - app.api.endpoints.db - INFO - API request to get profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 19:35:55,652 - app.services.db.user_profile_service - INFO - Getting profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 19:35:55,853 - app.services.db.user_profile_service - INFO - Successfully retrieved profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 19:35:55,855 - app.main - INFO - Request: GET /db/exercise-definitions
2025-06-06 19:35:55,917 - app.api.endpoints.db - INFO - API request to get all exercise definitions
