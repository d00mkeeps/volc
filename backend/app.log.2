2025-06-06 22:08:45,146 - app.services.db.workout_service - INFO - Inserting workout with data: Upper Body Power, None
2025-06-06 22:08:45,217 - app.services.db.workout_service - INFO - Workout created with ID: cc8295d2-102f-4ee7-ab6a-2d696b1a1d6c
2025-06-06 22:08:45,218 - app.services.db.workout_service - INFO - Creating 4 exercises for workout: cc8295d2-102f-4ee7-ab6a-2d696b1a1d6c
2025-06-06 22:08:45,218 - app.services.db.workout_service - INFO - Creating exercise 1/4: Bench Press
2025-06-06 22:08:45,285 - app.services.db.workout_service - INFO - Exercise created: Bench Press with ID: 978dbd50-4979-43b3-a87b-c1e5bb42230b
2025-06-06 22:08:45,355 - app.services.db.workout_service - INFO - Creating exercise 2/4: Overhead Press
2025-06-06 22:08:45,421 - app.services.db.workout_service - INFO - Exercise created: Overhead Press with ID: d1921db1-5afe-4b4a-ba83-aa723ce331b1
2025-06-06 22:08:45,422 - app.services.db.workout_service - INFO - Creating exercise 3/4: Incline Dumbbell Press
2025-06-06 22:08:45,487 - app.services.db.workout_service - INFO - Exercise created: Incline Dumbbell Press with ID: 249ba790-5365-42a7-b348-0314e49eeff4
2025-06-06 22:08:45,488 - app.services.db.workout_service - INFO - Creating exercise 4/4: Tricep Dips
2025-06-06 22:08:45,551 - app.services.db.workout_service - INFO - Exercise created: Tricep Dips with ID: ea0c2943-8ce8-4a98-a5a6-c29a29b4e9e4
2025-06-06 22:08:45,609 - app.services.db.workout_service - INFO - Workout creation complete for ID: cc8295d2-102f-4ee7-ab6a-2d696b1a1d6c
2025-06-06 22:08:45,674 - app.api.endpoints.db - INFO - API request to create conversation: Upper Body Power analysis
2025-06-06 22:08:45,675 - app.services.db.conversation_service - INFO - Creating conversation with title: Upper Body Power analysis for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 22:08:45,794 - app.services.db.conversation_service - INFO - Conversation created with ID: 2148465e-55fc-4015-9eb1-0aeaad0a4641
2025-06-06 22:08:45,795 - app.main - INFO - Response status: 200
2025-06-06 22:08:45,795 - app.main - INFO - Response status: 200
2025-06-06 22:08:45,919 - app.services.workout_analysis.graph_service - INFO - Getting top performers for metric: 1rm_change
2025-06-06 22:08:45,920 - app.services.workout_analysis.graph_service - INFO - Top 1rm_change performers: ['Overhead Press', 'Incline Dumbbell Press', 'Bench Press']
2025-06-06 22:08:45,920 - app.services.workout_analysis.graph_service - INFO - Getting top performers for metric: volume_change
2025-06-06 22:08:45,920 - app.services.workout_analysis.graph_service - INFO - Top volume_change performers: ['Overhead Press', 'Incline Dumbbell Press', 'Bench Press']
2025-06-06 22:08:45,920 - app.services.workout_analysis.graph_service - INFO - Getting top performers for metric: 1rm_change
2025-06-06 22:08:45,921 - app.services.workout_analysis.graph_service - INFO - Top 1rm_change performers: ['Overhead Press', 'Incline Dumbbell Press', 'Bench Press']
2025-06-06 22:08:45,921 - app.services.workout_analysis.graph_service - INFO - Getting top performers for metric: volume_change
2025-06-06 22:08:45,921 - app.services.workout_analysis.graph_service - INFO - Top volume_change performers: ['Overhead Press', 'Incline Dumbbell Press', 'Bench Press']
2025-06-06 22:08:45,921 - app.services.workout_analysis.graph_service - INFO - Added 10 data points for Overhead Press to strength chart
2025-06-06 22:08:45,922 - app.services.workout_analysis.graph_service - INFO - Added 10 data points for Incline Dumbbell Press to strength chart
2025-06-06 22:08:45,922 - app.services.workout_analysis.graph_service - INFO - Added 12 data points for Bench Press to strength chart
2025-06-06 22:08:45,922 - app.services.workout_analysis.graph_service - INFO - Strength chart contains 3 exercises with data
2025-06-06 22:08:46,707 - app.services.workout_analysis.graph_service - INFO - Generating volume chart for 3 exercises
2025-06-06 22:08:46,708 - app.services.workout_analysis.graph_service - INFO - Added 10 data points for Overhead Press to volume chart
2025-06-06 22:08:46,708 - app.services.workout_analysis.graph_service - INFO - Added 10 data points for Incline Dumbbell Press to volume chart
2025-06-06 22:08:46,709 - app.services.workout_analysis.graph_service - INFO - Added 12 data points for Bench Press to volume chart
2025-06-06 22:08:46,709 - app.services.workout_analysis.graph_service - INFO - Volume chart contains 3 exercises with data
2025-06-06 22:08:48,142 - app.main - INFO - Response status: 202
2025-06-06 22:08:48,142 - app.main - INFO - Request: GET /api/dashboard
2025-06-06 22:08:48,143 - app.main - INFO - Response status: 200
2025-06-06 22:08:49,381 - app.main - INFO - Request: GET /api/workout-analysis/05f7169e-252c-4d65-9d67-76339eb1cd26
2025-06-06 22:08:49,387 - app.main - INFO - Response status: 200
2025-06-06 22:08:49,454 - app.main - INFO - Request: DELETE /db/graph-bundles/conversation/pending-1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 22:08:49,515 - app.api.endpoints.db - INFO - API request to delete all graph bundles for conversation: pending-1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 22:08:49,515 - app.services.db.graph_bundle_service - INFO - Deleting all graph bundles for conversation: pending-1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 22:08:49,576 - app.services.db.graph_bundle_service - ERROR - Error deleting conversation bundles: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "pending-1e2d6190-5d52-4f48-974c-7a5a43a50bf3"'}
2025-06-06 22:08:49,576 - app.services.db.base_service - ERROR - Error in delete_conversation_bundles: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "pending-1e2d6190-5d52-4f48-974c-7a5a43a50bf3"'}
2025-06-06 22:08:49,577 - app.main - INFO - Request: POST /db/graph-bundles
2025-06-06 22:08:49,578 - app.main - INFO - Response status: 200
2025-06-06 22:08:49,640 - app.api.endpoints.db - INFO - API request to save graph bundle for conversation: pending-1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 22:08:49,641 - app.services.db.graph_bundle_service - INFO - Saving graph bundle: 6062b589-90eb-408d-9b7f-e7b54e4d3ad5
2025-06-06 22:08:49,815 - app.services.db.graph_bundle_service - ERROR - Error saving graph bundle: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "pending-1e2d6190-5d52-4f48-974c-7a5a43a50bf3"'}
2025-06-06 22:08:49,817 - app.main - INFO - Response status: 200
2025-06-06 22:09:09,281 - app.main - INFO - Request: POST /db/conversations
2025-06-06 22:09:09,409 - app.api.endpoints.db - INFO - API request to create conversation: Upper Body Power analysis
2025-06-06 22:09:09,409 - app.services.db.conversation_service - INFO - Creating conversation with title: Upper Body Power analysis for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-06 22:09:09,603 - app.services.db.conversation_service - INFO - Conversation created with ID: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:09,604 - app.main - INFO - Response status: 200
2025-06-06 22:09:09,726 - app.main - INFO - Request: GET /db/conversations/66c58771-a5db-4993-bd60-6a810630b307/messages
2025-06-06 22:09:09,793 - app.api.endpoints.db - INFO - API request to get messages for conversation: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:09,793 - app.services.db.conversation_service - INFO - Getting conversation: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:09,855 - app.services.db.conversation_service - INFO - Retrieved conversation: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:09,855 - app.services.db.conversation_service - INFO - Getting messages for conversation: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:09,921 - app.services.db.conversation_service - INFO - Retrieved 1 messages for conversation: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:09,924 - app.main - INFO - Response status: 200
2025-06-06 22:09:09,925 - app.main - INFO - Request: POST /db/graph-bundles
2025-06-06 22:09:09,992 - app.api.endpoints.db - INFO - API request to save graph bundle for conversation: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:09,993 - app.services.db.graph_bundle_service - INFO - Saving graph bundle: 6062b589-90eb-408d-9b7f-e7b54e4d3ad5
2025-06-06 22:09:10,147 - app.services.db.graph_bundle_service - ERROR - Error saving graph bundle: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "graph_bundles"'}
2025-06-06 22:09:10,149 - app.main - INFO - Response status: 200
2025-06-06 22:09:10,153 - app.services.llm.workout_analysis - INFO - WebSocket connection accepted for conversation: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:10,234 - app.main - INFO - Request: POST /db/conversations/66c58771-a5db-4993-bd60-6a810630b307/messages
2025-06-06 22:09:10,298 - app.api.endpoints.db - INFO - API request to save message to conversation: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:10,298 - app.services.db.conversation_service - INFO - Getting conversation: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:10,358 - app.services.db.conversation_service - INFO - Retrieved conversation: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:10,358 - app.services.db.conversation_service - INFO - Saving user message to conversation: 66c58771-a5db-4993-bd60-6a810630b307
2025-06-06 22:09:10,420 - app.services.db.conversation_service - INFO - Message saved with ID: 3a0e0ada-1a4d-4317-a817-1681973471b4
2025-06-06 22:09:10,420 - app.main - INFO - Response status: 200
2025-06-06 22:09:10,459 - app.services.chains.workout_analysis_chain - INFO - Added workout data bundle to conversation context
2025-06-06 22:09:10,459 - app.services.chains.workout_analysis_chain - INFO - Bundle has 3 charts available
