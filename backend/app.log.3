2025-06-07 23:28:29,309 - app.main - INFO - Response status: 200
2025-06-07 23:28:29,356 - app.main - INFO - Request: GET /db/workouts/templates
2025-06-07 23:28:29,418 - app.api.endpoints.db - INFO - API request to get workout templates for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-07 23:28:29,418 - app.services.db.workout_service - INFO - Getting workout templates for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-07 23:28:29,561 - app.services.db.workout_service - INFO - Retrieved 50 templates for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-07 23:28:29,576 - app.main - INFO - Response status: 200
2025-06-07 23:28:39,004 - app.main - INFO - Request: GET /db/conversations
2025-06-07 23:28:39,107 - app.api.endpoints.db - INFO - API request to get active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-07 23:28:39,107 - app.api.endpoints.db - INFO - Creating ConversationService instance
2025-06-07 23:28:39,108 - app.api.endpoints.db - INFO - Supabase client available: True
2025-06-07 23:28:39,258 - app.api.endpoints.db - INFO - Supabase client test query successful
2025-06-07 23:28:39,258 - app.api.endpoints.db - INFO - Calling get_user_conversations method
2025-06-07 23:28:39,258 - app.services.db.conversation_service - INFO - Getting active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-07 23:28:39,322 - app.services.db.conversation_service - INFO - Retrieved 23 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-07 23:28:39,322 - app.api.endpoints.db - INFO - Retrieved 23 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-07 23:28:39,324 - app.main - INFO - Response status: 200
2025-06-07 23:28:42,788 - app.main - INFO - Request: GET /db/conversations/6be13853-8c82-4a90-93f5-a344b3f03d33/messages
2025-06-07 23:28:42,854 - app.api.endpoints.db - INFO - API request to get messages for conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:28:42,855 - app.services.db.conversation_service - INFO - Getting conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:28:42,915 - app.services.db.conversation_service - INFO - Retrieved conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:28:42,916 - app.services.db.conversation_service - INFO - Getting messages for conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:28:42,991 - app.services.db.conversation_service - INFO - Retrieved 2 messages for conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:28:42,993 - app.main - INFO - Response status: 200
2025-06-07 23:28:46,472 - app.main - INFO - Request: POST /db/conversations/6be13853-8c82-4a90-93f5-a344b3f03d33/messages
2025-06-07 23:28:46,558 - app.api.endpoints.db - INFO - API request to save message to conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:28:46,558 - app.services.db.conversation_service - INFO - Getting conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:28:46,618 - app.services.db.conversation_service - INFO - Retrieved conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:28:46,618 - app.services.db.conversation_service - INFO - Saving user message to conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:28:46,690 - app.services.db.conversation_service - INFO - Message saved with ID: 83827fa9-400e-47f3-b7d9-0b002a18c3fe
2025-06-07 23:28:46,690 - app.main - INFO - Response status: 200
2025-06-07 23:28:46,810 - app.services.llm.workout_analysis - INFO - WebSocket connection accepted for conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:28:46,828 - app.services.chains.base_conversation_chain - INFO - 
=== Formatted Messages ===
2025-06-07 23:28:46,828 - app.services.chains.base_conversation_chain - INFO - 
Message 1 (SystemMessage):
2025-06-07 23:28:46,828 - app.services.chains.base_conversation_chain - INFO - Content:  try and talk like a human fitness coach!


Current workout data context:
Available workout data:
            {
  "available_data": []
}

Visualizations and metrics:
No workout data available
2025-06-07 23:28:46,828 - app.services.chains.base_conversation_chain - INFO - 
Message 2 (HumanMessage):
2025-06-07 23:28:46,828 - app.services.chains.base_conversation_chain - INFO - Content: Hello!
2025-06-07 23:28:46,828 - app.services.chains.base_conversation_chain - INFO - =====================
2025-06-07 23:28:50,901 - app.services.llm.workout_analysis - ERROR - Error in LLM websocket: (1000, 'Normal closure')
Traceback (most recent call last):
  File "/Users/mileshillary/Documents/supreme-octo-doodle/backend/app/services/llm/workout_analysis.py", line 56, in process_websocket
    data = await websocket.receive_json()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mileshillary/Documents/supreme-octo-doodle/backend/venv/lib/python3.13/site-packages/starlette/websockets.py", line 135, in receive_json
    self._raise_on_disconnect(message)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/mileshillary/Documents/supreme-octo-doodle/backend/venv/lib/python3.13/site-packages/starlette/websockets.py", line 113, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1000, 'Normal closure')
2025-06-07 23:29:01,995 - app.main - INFO - Request: POST /db/conversations/6be13853-8c82-4a90-93f5-a344b3f03d33/messages
2025-06-07 23:29:02,142 - app.api.endpoints.db - INFO - API request to save message to conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:29:02,142 - app.services.db.conversation_service - INFO - Getting conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:29:02,245 - app.services.db.conversation_service - INFO - Retrieved conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:29:02,245 - app.services.db.conversation_service - INFO - Saving user message to conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:29:02,317 - app.services.db.conversation_service - INFO - Message saved with ID: 66504341-150a-464c-a946-6dae960b8103
2025-06-07 23:29:02,318 - app.main - INFO - Response status: 200
2025-06-07 23:29:02,430 - app.services.llm.workout_analysis - INFO - WebSocket connection accepted for conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:29:02,437 - app.services.chains.base_conversation_chain - INFO - 
=== Formatted Messages ===
2025-06-07 23:29:02,437 - app.services.chains.base_conversation_chain - INFO - 
Message 1 (SystemMessage):
2025-06-07 23:29:02,437 - app.services.chains.base_conversation_chain - INFO - Content:  try and talk like a human fitness coach!


Current workout data context:
Available workout data:
            {
  "available_data": []
}

Visualizations and metrics:
No workout data available
2025-06-07 23:29:02,438 - app.services.chains.base_conversation_chain - INFO - 
Message 2 (HumanMessage):
2025-06-07 23:29:02,438 - app.services.chains.base_conversation_chain - INFO - Content: Hi?
2025-06-07 23:29:02,438 - app.services.chains.base_conversation_chain - INFO - =====================
2025-06-07 23:29:05,519 - app.services.llm.workout_analysis - ERROR - Error in LLM websocket: (1000, 'Normal closure')
Traceback (most recent call last):
  File "/Users/mileshillary/Documents/supreme-octo-doodle/backend/app/services/llm/workout_analysis.py", line 56, in process_websocket
    data = await websocket.receive_json()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mileshillary/Documents/supreme-octo-doodle/backend/venv/lib/python3.13/site-packages/starlette/websockets.py", line 135, in receive_json
    self._raise_on_disconnect(message)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/mileshillary/Documents/supreme-octo-doodle/backend/venv/lib/python3.13/site-packages/starlette/websockets.py", line 113, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1000, 'Normal closure')
2025-06-07 23:29:16,743 - app.main - INFO - Request: POST /db/conversations/6be13853-8c82-4a90-93f5-a344b3f03d33/messages
2025-06-07 23:29:16,842 - app.api.endpoints.db - INFO - API request to save message to conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:29:16,842 - app.services.db.conversation_service - INFO - Getting conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:29:16,989 - app.services.db.conversation_service - INFO - Retrieved conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:29:16,990 - app.services.db.conversation_service - INFO - Saving user message to conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:29:17,049 - app.services.db.conversation_service - INFO - Message saved with ID: a64fbdbe-163c-4793-8a91-749a4797c429
2025-06-07 23:29:17,059 - app.main - INFO - Response status: 200
2025-06-07 23:29:17,138 - app.services.llm.workout_analysis - INFO - WebSocket connection accepted for conversation: 6be13853-8c82-4a90-93f5-a344b3f03d33
2025-06-07 23:29:17,145 - app.services.chains.base_conversation_chain - INFO - 
=== Formatted Messages ===
2025-06-07 23:29:17,145 - app.services.chains.base_conversation_chain - INFO - 
Message 1 (SystemMessage):
2025-06-07 23:29:17,145 - app.services.chains.base_conversation_chain - INFO - Content:  try and talk like a human fitness coach!


Current workout data context:
Available workout data:
            {
  "available_data": []
}

Visualizations and metrics:
No workout data available
2025-06-07 23:29:17,145 - app.services.chains.base_conversation_chain - INFO - 
Message 2 (HumanMessage):
2025-06-07 23:29:17,145 - app.services.chains.base_conversation_chain - INFO - Content: Are you there
2025-06-07 23:29:17,145 - app.services.chains.base_conversation_chain - INFO - =====================
