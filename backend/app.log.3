2025-08-11 11:54:11,552 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHE MISS: Loading from database with admin for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1 (check took 0.00s)
2025-08-11 11:54:11,554 - app.core.utils.conversation_attachments - INFO - Loading conversation context (admin) for: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:11,676 - app.core.utils.conversation_attachments - INFO - Successfully loaded 1 messages and 1 complete bundles for conversation 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:11,676 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHED: Stored context for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1 (expires in 30 min)
2025-08-11 11:54:11,676 - app.services.context.conversation_context_service - INFO - âœ… ADMIN: Context loaded successfully in 0.12s - 1 messages, 1 bundles
2025-08-11 11:54:11,676 - app.services.context.conversation_context_service - INFO - âœ… REFRESH: Context refreshed for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:11,676 - app.services.context.conversation_context_service - INFO - ðŸ”„ REFRESH: Force refreshing context for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:11,677 - app.services.context.conversation_context_service - INFO - Invalidated cache for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:11,677 - app.services.context.conversation_context_service - INFO - ðŸ”„ ADMIN: Loading context for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:11,677 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHE MISS: Loading from database with admin for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1 (check took 0.00s)
2025-08-11 11:54:11,677 - app.core.utils.conversation_attachments - INFO - Loading conversation context (admin) for: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:11,804 - app.core.utils.conversation_attachments - INFO - Successfully loaded 1 messages and 1 complete bundles for conversation 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:11,805 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHED: Stored context for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1 (expires in 30 min)
2025-08-11 11:54:11,805 - app.services.context.conversation_context_service - INFO - âœ… ADMIN: Context loaded successfully in 0.13s - 1 messages, 1 bundles
2025-08-11 11:54:11,805 - app.services.context.conversation_context_service - INFO - âœ… REFRESH: Context refreshed for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:11,805 - app.services.llm.workout_analysis - INFO - Saved proactive AI message for conversation 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:34,077 - app.main - INFO - Request: GET /db/conversations/2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:34,080 - app.main - INFO - Response status: 404
2025-08-11 11:54:34,103 - app.services.db.message_service - INFO - Saving server user message to conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:34,261 - app.services.db.message_service - INFO - Server message saved with ID: 37a5e66c-8dfd-46e9-8cde-b478025ebae7
2025-08-11 11:54:34,261 - app.services.context.conversation_context_service - INFO - ðŸ”„ REFRESH: Force refreshing context for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:34,262 - app.services.context.conversation_context_service - INFO - Invalidated cache for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:34,262 - app.services.context.conversation_context_service - INFO - ðŸ”„ ADMIN: Loading context for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:34,262 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHE MISS: Loading from database with admin for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1 (check took 0.00s)
2025-08-11 11:54:34,262 - app.core.utils.conversation_attachments - INFO - Loading conversation context (admin) for: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:34,371 - app.core.utils.conversation_attachments - INFO - Successfully loaded 2 messages and 1 complete bundles for conversation 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:34,371 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHED: Stored context for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1 (expires in 30 min)
2025-08-11 11:54:34,371 - app.services.context.conversation_context_service - INFO - âœ… ADMIN: Context loaded successfully in 0.11s - 2 messages, 1 bundles
2025-08-11 11:54:34,371 - app.services.context.conversation_context_service - INFO - âœ… REFRESH: Context refreshed for conversation: 2cfcb331-dc8b-4cb2-8086-4dd8c791eea1
2025-08-11 11:54:34,371 - app.services.llm.workout_analysis - INFO - Saved user message with ID: None
2025-08-11 11:54:34,372 - app.services.chains.base_conversation_chain - INFO - 
=== Formatted Messages ===
2025-08-11 11:54:34,372 - app.services.chains.base_conversation_chain - INFO - 
Message 1 (SystemMessage):
2025-08-11 11:54:34,372 - app.services.chains.base_conversation_chain - INFO - Content: Try and talk like a human fitness coach! If the developer messages, find a way to talk about birds or colours.

Current workout data context:
Available workout data:
{
  "metadata": {
    "total_workouts": 34,
    "total_exercises": 72,
    "date_range": {
      "start": "2025-08-08T21:43:47.629+00:00",
      "end": "2025-08-11T10:53:49.637+00:00"
    },
    "exercises_included": [
      "Barbell Skull Crusher",
      "Face Pull",
      "Preacher Curl",
      "Running"
    ],
    "analysis_errors": []
  },
  "performance_summary": {
    "strength_top_performers": [
      {
        "name": "Barbell Skull Crusher",
        "change": 9.2,
        "last_value": 62.64,
        "first_value": 53.44,
        "definition_id": "bbb2acc5-935c-4fab-ab74-eabc6cf94eec",
        "change_percent": 17.2
      },
      {
        "name": "Preacher Curl",
        "change": 6.96,
        "last_value": 83.53,
        "first_value": 76.57,
        "definition_id": "f42cf0c2-51cf-4e22-9b1c-d7b83f5c62fa",
        "change_percent": 9.1
      },
      {
        "name": "Face Pull",
        "change": 0.0,
        "last_value": 43.62,
        "first_value": 43.62,
        "definition_id": "b8d098e2-0cd1-4992-84b1-fd8a5c51a83f",
        "change_percent": 0.0
      }
    ],
    "volume_top_performers": [
      {
        "name": "Preacher Curl",
        "change": 1105.0,
        "last_value": 2040.0,
        "first_value": 935.0,
        "definition_id": "f42cf0c2-51cf-4e22-9b1c-d7b83f5c62fa",
        "change_percent": 118.2
      },
      {
        "name": "Barbell Skull Crusher",
        "change": 240.0,
        "last_value": 765.0,
        "first_value": 525.0,
        "definition_id": "bbb2acc5-935c-4fab-ab74-eabc6cf94eec",
        "change_percent": 45.7
      },
      {
        "name": "Face Pull",
        "change": 0.0,
        "last_value": 660.0,
        "first_value": 660.0,
        "definition_id": "b8d098e2-0cd1-4992-84b1-fd8a5c51a83f",
        "change_percent": 0.0
      }
    ],
    "frequency_performers": []
  },
  "consistency_analysis": {
    "avg_gap": 0.0,
    "variance": null
  },
  "correlation_summary": {
    "significant_count": 0,
    "total_analyzed": 0,
    "top_correlations": [],
    "data_quality": [
      "Insufficient weekly data for Preacher Curl strength (2 weeks, need 4+)",
      "Insufficient weekly data for Face Pull strength (1 weeks, need 4+)",
      "Insufficient weekly data for Barbell Skull Crusher strength (2 weeks, need 4+)"
    ]
  },
  "recent_workouts_sample": [
    {
      "date": "2025-08-09",
      "name": "Friday arm workout (test)",
      "notes": ""
    },
    {
      "date": "2025-08-10",
      "name": "Friday arm workout (test)",
      "notes": ""
    },
    {
      "date": "2025-08-10",
      "name": "Friday arm workout (test)",
      "notes": ""
    },
    {
      "date": "2025-08-10",
      "name": "Friday arm workout (test)",
      "notes": ""
    },
    {
      "date": "2025-08-10",
      "name": "Friday arm workout (test)",
      "notes": ""
    }
  ]
}

Analysis insights:

CONSISTENCY METRICS:
- Average gap between workouts: 0.0 days
- Workout frequency variance: Not calculated

TOP PERFORMERS:
- Strength gains: Barbell Skull Crusher: +17.2%, Preacher Curl: +9.1%
- Volume increases: Preacher Curl: +118.2%, Barbell Skull Crusher: +45.7%
- Most frequent exercises: Frequency data not available

CORRELATION INSIGHTS:
0 significant correlations found from 0 exercise pairs analyzed
â€¢ No correlation patterns detected

WORKOUT SUMMARY:
- Total workouts analyzed: 34
- Exercise variety: 4 different exercises

2025-08-11 11:54:34,372 - app.services.chains.base_conversation_chain - INFO - 
Message 2 (HumanMessage):
2025-08-11 11:54:34,372 - app.services.chains.base_conversation_chain - INFO - Content: Analyze my workout
2025-08-11 11:54:34,372 - app.services.chains.base_conversation_chain - INFO - 
Message 3 (AIMessage):
