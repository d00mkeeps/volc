2025-06-05 18:20:27,239 - app.main - INFO - Request: POST /db/conversations/79cdeb27-eb04-41b4-9244-01adc396c863/messages
2025-06-05 18:20:27,358 - app.api.endpoints.db - INFO - API request to save message to conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 18:20:27,358 - app.services.db.conversation_service - INFO - Getting conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 18:20:27,491 - app.services.db.conversation_service - INFO - Retrieved conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 18:20:27,491 - app.services.db.conversation_service - INFO - Saving assistant message to conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 18:20:27,587 - app.services.db.conversation_service - INFO - Message saved with ID: 28122b68-1d4c-4652-8360-27c0cc5a095f
2025-06-05 18:20:27,588 - app.main - INFO - Response status: 200
2025-06-05 18:29:08,675 - app.services.job_store - INFO - Cleaned up 1 expired jobs
2025-06-05 18:30:14,140 - app.services.llm.workout_analysis - ERROR - Error in LLM websocket: (1000, '')
Traceback (most recent call last):
  File "/Users/mileshillary/Documents/supreme-octo-doodle/backend/app/services/llm/workout_analysis.py", line 56, in process_websocket
    data = await websocket.receive_json()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/websockets.py", line 135, in receive_json
    self._raise_on_disconnect(message)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/websockets.py", line 113, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1000, '')
2025-06-05 18:34:08,678 - app.services.job_store - INFO - Cleaned up 1 expired jobs
2025-06-05 18:36:46,740 - app.services.job_store - INFO - Cleaned up 1 expired jobs
2025-06-05 19:19:04,298 - app.main - INFO - Request: GET /db/user-profile
2025-06-05 19:19:04,490 - app.api.endpoints.db - INFO - API request to get profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 19:19:04,490 - app.services.db.user_profile_service - INFO - Getting profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 19:19:04,653 - app.services.db.user_profile_service - INFO - Successfully retrieved profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 19:19:04,655 - app.main - INFO - Response status: 200
2025-06-05 20:59:53,573 - app.main - INFO - Request: GET /db/user-profile
2025-06-05 20:59:53,822 - app.api.endpoints.db - INFO - API request to get profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 20:59:53,823 - app.services.db.user_profile_service - INFO - Getting profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 20:59:53,987 - app.services.db.user_profile_service - INFO - Successfully retrieved profile for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 20:59:53,988 - app.main - INFO - Request: GET /db/exercise-definitions
2025-06-05 20:59:54,053 - app.api.endpoints.db - INFO - API request to get all exercise definitions
2025-06-05 20:59:54,053 - app.services.db.exercise_definition_service - INFO - Fetching all exercise definitions
2025-06-05 20:59:54,138 - app.services.db.exercise_definition_service - INFO - Fetched 167 exercise definitions
2025-06-05 20:59:54,150 - app.main - INFO - Response status: 200
2025-06-05 20:59:54,151 - app.main - INFO - Response status: 200
2025-06-05 20:59:54,207 - app.main - INFO - Request: GET /db/workouts/templates
2025-06-05 20:59:54,269 - app.api.endpoints.db - INFO - API request to get workout templates for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 20:59:54,270 - app.services.db.workout_service - INFO - Getting workout templates for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 20:59:54,464 - app.services.db.workout_service - INFO - Retrieved 50 templates for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 20:59:54,472 - app.main - INFO - Response status: 200
2025-06-05 21:00:01,491 - app.main - INFO - Request: GET /db/conversations
2025-06-05 21:00:01,673 - app.api.endpoints.db - INFO - API request to get active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 21:00:01,674 - app.api.endpoints.db - INFO - Creating ConversationService instance
2025-06-05 21:00:01,674 - app.api.endpoints.db - INFO - Supabase client available: True
2025-06-05 21:00:01,814 - app.api.endpoints.db - INFO - Supabase client test query successful
2025-06-05 21:00:01,815 - app.api.endpoints.db - INFO - Calling get_user_conversations method
2025-06-05 21:00:01,815 - app.services.db.conversation_service - INFO - Getting active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 21:00:01,944 - app.services.db.conversation_service - INFO - Retrieved 20 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 21:00:01,944 - app.api.endpoints.db - INFO - Retrieved 20 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 21:00:01,946 - app.main - INFO - Response status: 200
2025-06-05 22:35:35,633 - app.main - INFO - Request: GET /db/conversations
2025-06-05 22:35:36,074 - app.api.endpoints.db - INFO - API request to get active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:35:36,075 - app.api.endpoints.db - INFO - Creating ConversationService instance
2025-06-05 22:35:36,075 - app.api.endpoints.db - INFO - Supabase client available: True
2025-06-05 22:35:36,267 - app.api.endpoints.db - INFO - Supabase client test query successful
2025-06-05 22:35:36,268 - app.api.endpoints.db - INFO - Calling get_user_conversations method
2025-06-05 22:35:36,268 - app.services.db.conversation_service - INFO - Getting active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:35:36,378 - app.services.db.conversation_service - INFO - Retrieved 20 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:35:36,378 - app.api.endpoints.db - INFO - Retrieved 20 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:35:36,379 - app.main - INFO - Response status: 200
2025-06-05 22:38:52,721 - app.main - INFO - Request: GET /db/conversations
2025-06-05 22:38:53,061 - app.api.endpoints.db - INFO - API request to get active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:38:53,062 - app.api.endpoints.db - INFO - Creating ConversationService instance
2025-06-05 22:38:53,062 - app.api.endpoints.db - INFO - Supabase client available: True
2025-06-05 22:38:53,234 - app.api.endpoints.db - INFO - Supabase client test query successful
2025-06-05 22:38:53,234 - app.api.endpoints.db - INFO - Calling get_user_conversations method
2025-06-05 22:38:53,234 - app.services.db.conversation_service - INFO - Getting active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:38:53,293 - app.services.db.conversation_service - INFO - Retrieved 20 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:38:53,293 - app.api.endpoints.db - INFO - Retrieved 20 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:38:53,295 - app.main - INFO - Response status: 200
2025-06-05 22:38:58,573 - app.main - INFO - Request: GET /db/conversations/79cdeb27-eb04-41b4-9244-01adc396c863/messages
2025-06-05 22:38:58,745 - app.api.endpoints.db - INFO - API request to get messages for conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:58,745 - app.services.db.conversation_service - INFO - Getting conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:58,915 - app.services.db.conversation_service - INFO - Retrieved conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:58,915 - app.services.db.conversation_service - INFO - Getting messages for conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,016 - app.services.db.conversation_service - INFO - Retrieved 3 messages for conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,017 - app.main - INFO - Request: GET /db/conversations/79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,018 - app.main - INFO - Request: GET /db/conversations/79cdeb27-eb04-41b4-9244-01adc396c863/messages
2025-06-05 22:38:59,018 - app.main - INFO - Request: GET /db/graph-bundles
2025-06-05 22:38:59,132 - app.api.endpoints.db - INFO - API request to get conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,133 - app.services.db.conversation_service - INFO - Getting conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,188 - app.services.db.conversation_service - INFO - Retrieved conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,251 - app.api.endpoints.db - INFO - API request to get messages for conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,252 - app.services.db.conversation_service - INFO - Getting conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,322 - app.services.db.conversation_service - INFO - Retrieved conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,322 - app.services.db.conversation_service - INFO - Getting messages for conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,420 - app.services.db.conversation_service - INFO - Retrieved 3 messages for conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,527 - app.api.endpoints.db - INFO - API request to get graph bundles for conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
2025-06-05 22:38:59,528 - app.services.db.graph_bundle_service - INFO - Getting graph bundles for conversation: 79cdeb27-eb04-41b4-9244-01adc396c863
