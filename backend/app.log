2025-07-20 17:14:07,953 - app.services.db.conversation_service - INFO - Creating empty conversation with title: Analysis - Jul 20 for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-07-20 17:14:08,369 - app.services.db.conversation_service - INFO - Empty conversation created with ID: dd4d4412-55ae-407b-93f3-274f025c3ec7
2025-07-20 17:14:08,370 - app.services.workout_analysis_service - INFO - Starting analysis task for conversation: dd4d4412-55ae-407b-93f3-274f025c3ec7
2025-07-20 17:14:08,370 - app.services.db.workout_service - INFO - Calling RPC for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3, definitions: ['46a6427a-127d-4127-9219-884075d863e8', '622a4502-c073-4a27-a9a5-5c9377393138']
2025-07-20 17:14:08,709 - app.services.db.workout_service - INFO - RPC returned: 58 workouts
2025-07-20 17:14:08,709 - app.services.workout_analysis_service - INFO - Proceeding with analysis for 58 workouts
2025-07-20 17:14:08,713 - app.services.workout_analysis_service - ERROR - Error during analysis task: 1 validation error for WorkoutDataBundle
computed_metrics
  Field required [type=missing, input_value={'bundle_id': '466cf914-0... 20, 17, 14, 8, 709856)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
Traceback (most recent call last):
  File "/Users/mileshillary/Desktop/learning/projects/volc/supreme-octo-doodle/backend/app/services/workout_analysis_service.py", line 74, in _perform_analysis_task
    bundle = WorkoutDataBundle(
             ^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/pydantic/main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for WorkoutDataBundle
computed_metrics
  Field required [type=missing, input_value={'bundle_id': '466cf914-0... 20, 17, 14, 8, 709856)}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
2025-07-20 17:14:08,722 - app.main - INFO - Response status: 200
2025-07-20 17:14:08,751 - app.main - INFO - Request: GET /api/dashboard
2025-07-20 17:14:08,752 - app.main - INFO - Response status: 200
2025-07-20 17:14:53,956 - app - INFO - Logging has been set up
2025-07-20 17:14:53,956 - app.main - INFO - Application starting
2025-07-20 17:14:53,957 - app.main - INFO - Loading .env from: /Users/mileshillary/Desktop/learning/projects/volc/supreme-octo-doodle/backend/app/.env (exists: False)
2025-07-20 17:14:53,957 - app.main - INFO - SUPABASE_URL present: True
2025-07-20 17:14:53,957 - app.main - INFO - SUPABASE_KEY present: True
2025-07-20 17:15:00,894 - app.main - INFO - Request: POST /db/workouts
2025-07-20 17:15:01,418 - app.api.endpoints.db - INFO - API request to create workout: Freestyle Workout
2025-07-20 17:15:01,418 - app.services.db.workout_service - INFO - Creating workout: Freestyle Workout for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-07-20 17:15:01,418 - app.services.db.workout_service - INFO - Inserting workout with data: Freestyle Workout, None
2025-07-20 17:15:01,933 - app.services.db.workout_service - INFO - Workout created with ID: ca151fb4-a218-4d54-a09a-62fbd38cab62
2025-07-20 17:15:01,933 - app.services.db.workout_service - INFO - Creating 2 exercises for workout: ca151fb4-a218-4d54-a09a-62fbd38cab62
2025-07-20 17:15:01,933 - app.services.db.workout_service - INFO - Creating exercise 1/2: Barbell Bench Press
2025-07-20 17:15:02,441 - app.services.db.workout_service - INFO - Exercise created: Barbell Bench Press with ID: 12bf9ba4-6181-42ad-9602-690a88d2a1a9
2025-07-20 17:15:03,364 - app.services.db.workout_service - INFO - Creating exercise 2/2: Barbell Back Squat
2025-07-20 17:15:03,538 - app.services.db.workout_service - INFO - Exercise created: Barbell Back Squat with ID: 149d5ed5-313a-47b8-b3b7-531587914498
2025-07-20 17:15:04,437 - app.services.db.workout_service - INFO - Workout creation complete for ID: ca151fb4-a218-4d54-a09a-62fbd38cab62
2025-07-20 17:15:04,440 - app.main - INFO - Response status: 200
2025-07-20 17:15:04,663 - app.main - INFO - Request: POST /api/workout-analysis
2025-07-20 17:15:05,209 - app.services.db.conversation_service - INFO - Creating empty conversation with title: Analysis - Jul 20 for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-07-20 17:15:05,719 - app.services.db.conversation_service - INFO - Empty conversation created with ID: f306d49f-695d-4411-aa6a-514048cedaef
2025-07-20 17:15:05,721 - app.services.workout_analysis_service - INFO - Starting analysis task for conversation: f306d49f-695d-4411-aa6a-514048cedaef
2025-07-20 17:15:05,721 - app.services.db.workout_service - INFO - Calling RPC for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3, definitions: ['46a6427a-127d-4127-9219-884075d863e8', '622a4502-c073-4a27-a9a5-5c9377393138']
2025-07-20 17:15:05,912 - app.services.db.workout_service - INFO - RPC returned: 59 workouts
2025-07-20 17:15:05,912 - app.services.workout_analysis_service - INFO - Proceeding with analysis for 59 workouts
2025-07-20 17:15:05,912 - app.services.workout_analysis.graph_service - INFO - Getting top performers for metric: 1rm_change
2025-07-20 17:15:05,913 - app.services.workout_analysis.graph_service - INFO - Top 1rm_change performers: ['Barbell Back Squat', 'Barbell Bench Press']
2025-07-20 17:15:05,913 - app.services.workout_analysis.graph_service - INFO - Getting top performers for metric: volume_change
2025-07-20 17:15:05,913 - app.services.workout_analysis.graph_service - INFO - Top volume_change performers: ['Barbell Bench Press', 'Barbell Back Squat']
2025-07-20 17:15:05,914 - app.services.workout_analysis.graph_service - INFO - Added 41 data points for Barbell Back Squat to strength chart
2025-07-20 17:15:05,914 - app.services.workout_analysis.graph_service - INFO - Added 56 data points for Barbell Bench Press to strength chart
2025-07-20 17:15:05,914 - app.services.workout_analysis.graph_service - INFO - Strength chart contains 2 exercises with data
2025-07-20 17:15:06,744 - app.services.workout_analysis.graph_service - INFO - Generating volume chart for 2 exercises
2025-07-20 17:15:06,745 - app.services.workout_analysis.graph_service - INFO - Added 56 data points for Barbell Bench Press to volume chart
2025-07-20 17:15:06,745 - app.services.workout_analysis.graph_service - INFO - Added 41 data points for Barbell Back Squat to volume chart
2025-07-20 17:15:06,745 - app.services.workout_analysis.graph_service - INFO - Volume chart contains 2 exercises with data
2025-07-20 17:15:08,080 - app.services.db.graph_bundle_service - INFO - Saving graph bundle: 6728e400-0844-451a-8854-06aa1fdecaef
2025-07-20 17:15:08,593 - app.services.db.graph_bundle_service - INFO - Bundle saved successfully with ID: 6728e400-0844-451a-8854-06aa1fdecaef
2025-07-20 17:15:08,594 - app.services.workout_analysis_service - INFO - Analysis task completed for conversation f306d49f-695d-4411-aa6a-514048cedaef
2025-07-20 17:15:08,594 - app.main - INFO - Response status: 200
2025-07-20 17:15:08,622 - app.main - INFO - Request: GET /api/dashboard
2025-07-20 17:15:08,623 - app.main - INFO - Response status: 200
