2025-08-17 15:56:03,209 - app.services.context.conversation_context_service - INFO - âœ… ADMIN: Context loaded successfully in 0.34s - 1 messages, 1 bundles
2025-08-17 15:56:03,211 - app.services.context.conversation_context_service - INFO - âœ… REFRESH: Context refreshed for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:03,211 - app.services.context.conversation_context_service - INFO - ðŸ”„ REFRESH: Force refreshing context for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:03,211 - app.services.context.conversation_context_service - INFO - Invalidated cache for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:03,211 - app.services.context.conversation_context_service - INFO - ðŸ”„ ADMIN: Loading context for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:03,211 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHE MISS: Loading from database with admin for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0 (check took 0.00s)
2025-08-17 15:56:03,212 - app.core.utils.conversation_attachments - INFO - Loading conversation context (admin) for: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:03,455 - app.core.utils.conversation_attachments - INFO - Successfully loaded 1 messages and 1 complete bundles for conversation 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:03,455 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHED: Stored context for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0 (expires in 30 min)
2025-08-17 15:56:03,456 - app.services.context.conversation_context_service - INFO - âœ… ADMIN: Context loaded successfully in 0.24s - 1 messages, 1 bundles
2025-08-17 15:56:03,456 - app.services.context.conversation_context_service - INFO - âœ… REFRESH: Context refreshed for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:03,456 - app.services.llm.workout_analysis - INFO - Saved proactive AI message for conversation 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:17,279 - app.services.db.message_service - INFO - Saving server user message to conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:17,791 - app.services.db.message_service - INFO - Server message saved with ID: 05827c43-972e-4903-9d28-f43634e16df6
2025-08-17 15:56:17,791 - app.services.context.conversation_context_service - INFO - ðŸ”„ REFRESH: Force refreshing context for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:17,792 - app.services.context.conversation_context_service - INFO - Invalidated cache for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:17,792 - app.services.context.conversation_context_service - INFO - ðŸ”„ ADMIN: Loading context for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:17,792 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHE MISS: Loading from database with admin for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0 (check took 0.00s)
2025-08-17 15:56:17,792 - app.core.utils.conversation_attachments - INFO - Loading conversation context (admin) for: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:18,085 - app.core.utils.conversation_attachments - INFO - Successfully loaded 2 messages and 1 complete bundles for conversation 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:18,085 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHED: Stored context for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0 (expires in 30 min)
2025-08-17 15:56:18,086 - app.services.context.conversation_context_service - INFO - âœ… ADMIN: Context loaded successfully in 0.29s - 2 messages, 1 bundles
2025-08-17 15:56:18,086 - app.services.context.conversation_context_service - INFO - âœ… REFRESH: Context refreshed for conversation: 39bda5e9-9502-43cd-a0cc-5fa80ea648b0
2025-08-17 15:56:18,086 - app.services.llm.workout_analysis - INFO - Saved user message with ID: None
2025-08-17 15:56:18,087 - app.services.chains.base_conversation_chain - INFO - 
=== Formatted Messages ===
2025-08-17 15:56:18,088 - app.services.chains.base_conversation_chain - INFO - 
Message 1 (SystemMessage):
2025-08-17 15:56:18,088 - app.services.chains.base_conversation_chain - INFO - Content: Try and talk like a human fitness coach! If the developer messages, find a way to talk about birds or colours.

Current workout data context:
Available workout data:
{
  "metadata": {
    "total_workouts": 19,
    "total_exercises": 49,
    "date_range": {
      "start": "2025-08-15T13:44:14.21+00:00",
      "end": "2025-08-17T14:55:43.462+00:00"
    },
    "exercises_included": [
      "Ab Wheel Rollout",
      "Arnold Press",
      "Barbell Bench Press",
      "Barbell Skull Crusher",
      "Chin-Up",
      "Preacher Curl",
      "Running"
    ],
    "analysis_errors": []
  },
  "performance_summary": {
    "strength_top_performers": [
      {
        "name": "Preacher Curl",
        "change": 5.69,
        "last_value": 57.22,
        "first_value": 51.53,
        "definition_id": "f42cf0c2-51cf-4e22-9b1c-d7b83f5c62fa",
        "change_percent": 11.0
      },
      {
        "name": "Barbell Skull Crusher",
        "change": 0.0,
        "last_value": 57.22,
        "first_value": 57.22,
        "definition_id": "bbb2acc5-935c-4fab-ab74-eabc6cf94eec",
        "change_percent": 0.0
      },
      {
        "name": "Arnold Press",
        "change": 0.0,
        "last_value": 34.92,
        "first_value": 34.92,
        "definition_id": "0d669895-ab29-4a87-a293-99b77950a5c4",
        "change_percent": 0.0
      }
    ],
    "volume_top_performers": [
      {
        "name": "Arnold Press",
        "change": 0.0,
        "last_value": 600.0,
        "first_value": 600.0,
        "definition_id": "0d669895-ab29-4a87-a293-99b77950a5c4",
        "change_percent": 0.0
      },
      {
        "name": "Barbell Bench Press",
        "change": 0.0,
        "last_value": 2040.0,
        "first_value": 2040.0,
        "definition_id": "46a6427a-127d-4127-9219-884075d863e8",
        "change_percent": 0.0
      },
      {
        "name": "Preacher Curl",
        "change": -350.0,
        "last_value": 1600.0,
        "first_value": 1950.0,
        "definition_id": "f42cf0c2-51cf-4e22-9b1c-d7b83f5c62fa",
        "change_percent": -17.9
      }
    ],
    "frequency_performers": []
  },
  "consistency_analysis": {
    "avg_gap": 0.0,
    "variance": null
  },
  "correlation_summary": {
    "significant_count": 0,
    "total_analyzed": 0,
    "top_correlations": [],
    "data_quality": [
      "Insufficient weekly data for Preacher Curl strength (1 weeks, need 4+)",
      "Insufficient weekly data for Barbell Skull Crusher strength (1 weeks, need 4+)",
      "Insufficient weekly data for Arnold Press strength (1 weeks, need 4+)"
    ]
  },
  "recent_workouts_sample": [
    {
      "date": "2025-08-16",
      "name": "Lkj;lkj",
      "notes": "Barbell Skull Crusher:\n\nLkj\nPreacher Curl:\n\nLkj;lkj;lklhb"
    },
    {
      "date": "2025-08-16",
      "name": "",
      "notes": ""
    },
    {
      "date": "2025-08-16",
      "name": "",
      "notes": ""
    },
    {
      "date": "2025-08-16",
      "name": "",
      "notes": ""
    },
    {
      "date": "2025-08-16",
      "name": "Bluebird",
      "notes": "Barbell Skull Crusher:\n\nGgfbfvd"
    }
  ]
}

Analysis insights:

CONSISTENCY METRICS:
- Average gap between workouts: 0.0 days
- Workout frequency variance: Not calculated

TOP PERFORMERS:
- Strength gains: Preacher Curl: +11.0%
- Volume increases: No significant volume increases detected
- Most frequent exercises: Frequency data not available

CORRELATION INSIGHTS:
0 significant correlations found from 0 exercise pairs analyzed
â€¢ No correlation patterns detected

WORKOUT SUMMARY:
- Total workouts analyzed: 19
- Exercise variety: 7 different exercises

2025-08-17 15:56:18,088 - app.services.chains.base_conversation_chain - INFO - 
Message 2 (HumanMessage):
2025-08-17 15:56:18,088 - app.services.chains.base_conversation_chain - INFO - Content: Analyze my workout
2025-08-17 15:56:18,088 - app.services.chains.base_conversation_chain - INFO - 
Message 3 (AIMessage):
