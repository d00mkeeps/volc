2025-08-15 00:24:16,268 - app.services.db.base_service - ERROR - Error in save_user_profile: {'message': 'duplicate key value violates unique constraint "user_profiles_auth_user_uuid_key"', 'code': '23505', 'hint': None, 'details': None}
2025-08-15 00:24:16,272 - app.main - INFO - Response status: 200
2025-08-15 00:24:16,544 - app.main - INFO - Request: GET /db/user-profile
2025-08-15 00:24:16,546 - app.api.endpoints.db - INFO - API request to get profile for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:24:16,546 - app.services.db.user_profile_service - INFO - Getting profile for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:24:16,882 - app.services.db.user_profile_service - INFO - Successfully retrieved profile for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:24:16,883 - app.main - INFO - Response status: 200
2025-08-15 00:24:17,277 - app.main - INFO - Request: GET /images/c032cee7-1c3c-4998-8c4a-778388b27ac9/url
2025-08-15 00:24:17,279 - app.api.endpoints.images - INFO - API request to get image URL: c032cee7-1c3c-4998-8c4a-778388b27ac9
2025-08-15 00:24:17,279 - app.services.db.image_service - INFO - Getting image URL for ID: c032cee7-1c3c-4998-8c4a-778388b27ac9
2025-08-15 00:24:17,628 - app.services.db.image_service - INFO - Found file path: 1b6aebb0-1107-42fc-97f2-892cc56b706b/0bdc6e66-529f-4971-acda-f41e959c615f.jpg
2025-08-15 00:24:17,655 - app.services.db.image_service - INFO - Public URL response type: <class 'str'>
2025-08-15 00:24:17,655 - app.services.db.image_service - INFO - Public URL response: https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/public/images/1b6aebb0-1107-42fc-97f2-892cc56b706b/0bdc6e66-529f-4971-acda-f41e959c615f.jpg?
2025-08-15 00:24:17,655 - app.services.db.image_service - INFO - Public URL keys: Not a dict
2025-08-15 00:24:17,655 - app.services.db.image_service - INFO - Used direct string
2025-08-15 00:24:17,656 - app.services.db.image_service - INFO - Final public URL: https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/public/images/1b6aebb0-1107-42fc-97f2-892cc56b706b/0bdc6e66-529f-4971-acda-f41e959c615f.jpg?
2025-08-15 00:24:17,656 - app.main - INFO - Response status: 200
2025-08-15 00:50:06,911 - app - INFO - Logging has been set up
2025-08-15 00:50:06,911 - app.main - INFO - Application starting
2025-08-15 00:50:06,911 - app.main - INFO - Loading .env from: /Users/mileshillary/Desktop/learning/projects/volc/supreme-octo-doodle/backend/app/.env (exists: False)
2025-08-15 00:50:06,911 - app.main - INFO - SUPABASE_URL present: True
2025-08-15 00:50:06,911 - app.main - INFO - SUPABASE_KEY present: False
2025-08-15 00:51:41,536 - app - INFO - Logging has been set up
2025-08-15 00:51:41,536 - app.main - INFO - Application starting
2025-08-15 00:51:41,536 - app.main - INFO - Loading .env from: /Users/mileshillary/Desktop/learning/projects/volc/supreme-octo-doodle/backend/app/.env (exists: False)
2025-08-15 00:51:41,536 - app.main - INFO - SUPABASE_URL present: True
2025-08-15 00:51:41,536 - app.main - INFO - SUPABASE_KEY present: False
2025-08-15 00:52:02,536 - app - INFO - Logging has been set up
2025-08-15 00:52:02,536 - app.main - INFO - Application starting
2025-08-15 00:52:02,536 - app.main - INFO - Loading .env from: /Users/mileshillary/Desktop/learning/projects/volc/supreme-octo-doodle/backend/app/.env (exists: False)
2025-08-15 00:52:02,536 - app.main - INFO - SUPABASE_URL present: True
2025-08-15 00:52:02,536 - app.main - INFO - SUPABASE_KEY present: False
2025-08-15 00:56:20,420 - app.main - INFO - Request: GET /api/dashboard
2025-08-15 00:56:20,424 - app.api.endpoints.dashboard - INFO - API request for dashboard data for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:56:20,424 - app.services.db.dashboard_service - INFO - Getting dashboard data for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:56:20,425 - app.services.db.workout_service - INFO - Getting all workouts for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:56:20,941 - app.services.db.workout_service - INFO - Retrieved 0 workouts for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:56:20,941 - app.services.db.dashboard_service - INFO - Processing 0 workouts for dashboard analytics
2025-08-15 00:56:21,142 - app.services.db.dashboard_service - INFO - Cached 167 exercise definitions
2025-08-15 00:56:21,347 - app.services.db.dashboard_service - INFO - Cached 167 exercise definitions
2025-08-15 00:56:21,546 - app.services.db.dashboard_service - INFO - Cached 167 exercise definitions
2025-08-15 00:56:21,736 - app.services.db.dashboard_service - INFO - Cached 167 exercise definitions
2025-08-15 00:56:21,737 - app.services.db.dashboard_service - INFO - Successfully processed dashboard data for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:56:21,737 - app.api.endpoints.dashboard - INFO - Successfully returned dashboard data for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:56:21,740 - app.main - INFO - Request: GET /db/user-profile
2025-08-15 00:56:21,740 - app.main - INFO - Response status: 200
2025-08-15 00:56:21,742 - app.api.endpoints.db - INFO - API request to get profile for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:56:21,742 - app.services.db.user_profile_service - INFO - Getting profile for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:56:22,165 - app.services.db.user_profile_service - INFO - Successfully retrieved profile for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:56:22,166 - app.main - INFO - Request: GET /db/exercise-definitions
2025-08-15 00:56:22,167 - app.services.db.exercise_definition_service - INFO - Fetching all exercise definitions
2025-08-15 00:56:22,583 - app.services.db.exercise_definition_service - INFO - Fetched 167 exercise definitions
2025-08-15 00:56:22,597 - app.main - INFO - Response status: 200
2025-08-15 00:56:22,598 - app.main - INFO - Response status: 200
2025-08-15 00:56:23,505 - app.main - INFO - Request: GET /images/c032cee7-1c3c-4998-8c4a-778388b27ac9/url
2025-08-15 00:56:23,507 - app.api.endpoints.images - INFO - API request to get image URL: c032cee7-1c3c-4998-8c4a-778388b27ac9
2025-08-15 00:56:23,508 - app.services.db.image_service - INFO - Getting image URL for ID: c032cee7-1c3c-4998-8c4a-778388b27ac9
2025-08-15 00:56:23,925 - app.services.db.image_service - INFO - Found file path: 1b6aebb0-1107-42fc-97f2-892cc56b706b/0bdc6e66-529f-4971-acda-f41e959c615f.jpg
2025-08-15 00:56:23,944 - app.services.db.image_service - INFO - Public URL response type: <class 'str'>
2025-08-15 00:56:23,944 - app.services.db.image_service - INFO - Public URL response: https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/public/images/1b6aebb0-1107-42fc-97f2-892cc56b706b/0bdc6e66-529f-4971-acda-f41e959c615f.jpg?
2025-08-15 00:56:23,944 - app.services.db.image_service - INFO - Public URL keys: Not a dict
2025-08-15 00:56:23,944 - app.services.db.image_service - INFO - Used direct string
2025-08-15 00:56:23,944 - app.services.db.image_service - INFO - Final public URL: https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/public/images/1b6aebb0-1107-42fc-97f2-892cc56b706b/0bdc6e66-529f-4971-acda-f41e959c615f.jpg?
2025-08-15 00:56:23,945 - app.main - INFO - Request: GET /db/workouts/user
2025-08-15 00:56:23,945 - app.main - INFO - Response status: 200
2025-08-15 00:56:23,946 - app.api.endpoints.db - INFO - API request to get all workouts for user: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:56:23,946 - app.services.db.workout_service - INFO - Getting all workouts for user: <app.core.supabase.auth.get_current_user.<locals>.User object at 0x13d4af620>
2025-08-15 00:56:24,325 - app.services.db.workout_service - INFO - Retrieved 0 workouts for user: <app.core.supabase.auth.get_current_user.<locals>.User object at 0x13d4af620>
2025-08-15 00:56:24,327 - app.main - INFO - Response status: 200
2025-08-15 00:56:29,522 - app.main - INFO - Request: POST /images/temp-upload
2025-08-15 00:56:29,524 - app.api.endpoints.images - INFO - User ID from endpoint: 1b6aebb0-1107-42fc-97f2-892cc56b706b
2025-08-15 00:56:29,524 - app.api.endpoints.images - INFO - User ID type: <class 'str'>
2025-08-15 00:56:29,524 - app.api.endpoints.images - INFO - JWT token length: 875
2025-08-15 00:56:29,524 - app.api.endpoints.images - INFO - JWT starts with: eyJhbGciOiJIUzI1NiIsImtpZCI6IlZxeno3RjFVNVFDSmkvN2...
2025-08-15 00:56:29,781 - app.api.endpoints.images - INFO - User client created successfully: True
2025-08-15 00:56:29,982 - app.api.endpoints.images - INFO - Test query successful: True
2025-08-15 00:56:29,982 - app.services.db.image_service - INFO - Creating temp image with path: 1b6aebb0-1107-42fc-97f2-892cc56b706b/b839e567-ed87-4488-bd24-fcec49653c23.jpg
2025-08-15 00:56:29,982 - app.services.db.image_service - INFO - User ID to insert: 1b6aebb0-1107-42fc-97f2-892cc56b706b (type: <class 'str'>)
2025-08-15 00:56:30,186 - app.services.db.image_service - INFO - About to insert: {'file_path': '1b6aebb0-1107-42fc-97f2-892cc56b706b/b839e567-ed87-4488-bd24-fcec49653c23.jpg', 'user_id': '1b6aebb0-1107-42fc-97f2-892cc56b706b', 'status': 'temporary', 'expires_at': '2025-08-15T23:56:30.186172'}
2025-08-15 00:56:30,360 - app.services.db.image_service - INFO - Created temp image record with ID: 9d5c3c24-342d-4bf4-ad6c-34c45160699a
2025-08-15 00:56:30,360 - app.services.db.image_service - INFO - About to create signed URL...
2025-08-15 00:56:30,591 - app.services.db.image_service - INFO - Signed URL response type: <class 'dict'>
