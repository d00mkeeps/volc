2025-08-11 15:51:56,909 - app.services.db.workout_service - INFO - Workout creation complete for ID: a6e6b5fa-f1f7-4144-9b04-ead80aa18cc8
2025-08-11 15:51:56,915 - app.main - INFO - Response status: 200
2025-08-11 15:51:57,149 - app.main - INFO - Request: PUT /db/workouts/e54992cd-895a-46e6-9e48-8bcb40d04c44
2025-08-11 15:51:57,150 - app.api.endpoints.db - INFO - API request to update workout: e54992cd-895a-46e6-9e48-8bcb40d04c44
2025-08-11 15:51:57,150 - app.services.db.workout_service - INFO - Updating workout: e54992cd-895a-46e6-9e48-8bcb40d04c44
2025-08-11 15:51:58,956 - app.services.db.workout_service - INFO - Successfully updated workout: e54992cd-895a-46e6-9e48-8bcb40d04c44
2025-08-11 15:51:58,957 - app.main - INFO - Response status: 200
2025-08-11 15:51:58,957 - app.main - INFO - Request: POST /images/temp-upload
2025-08-11 15:51:58,958 - app.api.endpoints.images - INFO - API request to create temp image for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-08-11 15:51:58,959 - app.services.storage.image_service - INFO - Creating temp image record for path: images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/3eec3c6f-982f-4c60-ba40-4820029c5f63.jpg
2025-08-11 15:51:59,399 - app.services.storage.image_service - INFO - Signed URL response type: <class 'dict'>
2025-08-11 15:51:59,399 - app.services.storage.image_service - INFO - Created temp image record with ID: ffde75a8-823a-4173-9d5c-de4adabc00aa
2025-08-11 15:51:59,399 - app.services.storage.image_service - INFO - Successfully extracted upload URL
2025-08-11 15:51:59,399 - app.services.storage.image_service - INFO - About to return response: {'image_id': 'ffde75a8-823a-4173-9d5c-de4adabc00aa', 'upload_url': 'https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/upload/sign/images/images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/3eec3c6f-982f-4c60-ba40-4820029c5f63.jpg?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8wNDg3ODljNy1mYmQ1LTQ4OWQtYjVmNC03NjM1NWFhMDRhODYiLCJhbGciOiJIUzI1NiJ9.eyJvd25lciI6IjFlMmQ2MTkwLTVkNTItNGY0OC05NzRjLTdhNWE0M2E1MGJmMyIsInVybCI6ImltYWdlcy9pbWFnZXMvMWUyZDYxOTAtNWQ1Mi00ZjQ4LTk3NGMtN2E1YTQzYTUwYmYzLzNlZWMzYzZmLTk4MmYtNGM2MC1iYTQwLTQ4MjAwMjljNWY2My5qcGciLCJ1cHNlcnQiOmZhbHNlLCJpYXQiOjE3NTQ5MjM5MTksImV4cCI6MTc1NDkzMTExOX0.4qB4IeavL5bHwc2cgIYDqz7MPwXk_0A7GBt_QQ3h1Xc', 'file_path': 'images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/3eec3c6f-982f-4c60-ba40-4820029c5f63.jpg'}
2025-08-11 15:51:59,399 - app.services.storage.image_service - INFO - Final formatted response: {'success': True, 'data': {'image_id': 'ffde75a8-823a-4173-9d5c-de4adabc00aa', 'upload_url': 'https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/upload/sign/images/images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/3eec3c6f-982f-4c60-ba40-4820029c5f63.jpg?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8wNDg3ODljNy1mYmQ1LTQ4OWQtYjVmNC03NjM1NWFhMDRhODYiLCJhbGciOiJIUzI1NiJ9.eyJvd25lciI6IjFlMmQ2MTkwLTVkNTItNGY0OC05NzRjLTdhNWE0M2E1MGJmMyIsInVybCI6ImltYWdlcy9pbWFnZXMvMWUyZDYxOTAtNWQ1Mi00ZjQ4LTk3NGMtN2E1YTQzYTUwYmYzLzNlZWMzYzZmLTk4MmYtNGM2MC1iYTQwLTQ4MjAwMjljNWY2My5qcGciLCJ1cHNlcnQiOmZhbHNlLCJpYXQiOjE3NTQ5MjM5MTksImV4cCI6MTc1NDkzMTExOX0.4qB4IeavL5bHwc2cgIYDqz7MPwXk_0A7GBt_QQ3h1Xc', 'file_path': 'images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/3eec3c6f-982f-4c60-ba40-4820029c5f63.jpg'}, 'error': None}
2025-08-11 15:51:59,400 - app.main - INFO - Request: POST /api/workout-analysis
2025-08-11 15:51:59,400 - app.main - INFO - Response status: 200
2025-08-11 15:51:59,401 - app.services.db.conversation_service - INFO - Creating conversation for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-08-11 15:51:59,710 - app.services.workout_analysis_service - INFO - Conversation service returned: {'success': True, 'data': {'id': '1b87c446-6a7f-4533-a2dd-8657f9baec8e', 'user_id': '1e2d6190-5d52-4f48-974c-7a5a43a50bf3', 'title': 'Analysis - Aug 11', 'config_name': 'workout-analysis', 'created_at': '2025-08-11T14:51:59.65304+00:00', 'updated_at': '2025-08-11T14:51:59.65304+00:00', 'status': 'active', 'message_count': 0}, 'error': None}
2025-08-11 15:51:59,710 - app.services.workout_analysis_service - INFO - Starting analysis task for conversation: 1b87c446-6a7f-4533-a2dd-8657f9baec8e
2025-08-11 15:51:59,710 - app.services.db.analysis_service - INFO - Creating empty analysis bundle: 002a7698-8edc-4b27-ac1e-9e476484449b for conversation: 1b87c446-6a7f-4533-a2dd-8657f9baec8e
2025-08-11 15:52:00,033 - app.services.db.analysis_service - INFO - Empty bundle created successfully with ID: 002a7698-8edc-4b27-ac1e-9e476484449b
2025-08-11 15:52:00,033 - app.services.workout_analysis_service - INFO - Created empty bundle: 002a7698-8edc-4b27-ac1e-9e476484449b
2025-08-11 15:52:00,033 - app.services.db.analysis_service - INFO - Updating bundle 002a7698-8edc-4b27-ac1e-9e476484449b status to: in_progress
2025-08-11 15:52:00,322 - app.services.db.analysis_service - INFO - Bundle status updated successfully: 002a7698-8edc-4b27-ac1e-9e476484449b -> in_progress
2025-08-11 15:52:00,322 - app.services.db.workout_service - INFO - Calling RPC for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3, definitions: ['bbb2acc5-935c-4fab-ab74-eabc6cf94eec', 'f42cf0c2-51cf-4e22-9b1c-d7b83f5c62fa']
2025-08-11 15:52:00,593 - app.services.db.workout_service - INFO - RPC returned: 38 workouts
2025-08-11 15:52:00,593 - app.services.workout_analysis_service - INFO - Processing analysis for 38 workouts
2025-08-11 15:52:00,593 - app.services.workout_analysis.main_processor - INFO - Processing bundle 002a7698-8edc-4b27-ac1e-9e476484449b with 38 workouts
2025-08-11 15:52:00,595 - app.services.workout_analysis.calc.strength - INFO - Found 3 exercises with strength data, returning top 3
2025-08-11 15:52:00,595 - app.services.workout_analysis.calc.strength - INFO - Generated time series for 3 exercises
2025-08-11 15:52:00,596 - app.services.workout_analysis.calc.volume - INFO - Found 3 exercises with volume data, returning top 3
2025-08-11 15:52:00,596 - app.services.workout_analysis.calc.volume - INFO - Generated time series for 3 exercises
2025-08-11 15:52:00,596 - app.services.workout_analysis.calc.consistency - INFO - Calculated consistency: avg_gap=0.1, variance=0.030915053692250845
2025-08-11 15:52:00,662 - app.services.workout_analysis.main_processor - INFO - Successfully processed bundle 002a7698-8edc-4b27-ac1e-9e476484449b
2025-08-11 15:52:00,662 - app.services.db.analysis_service - INFO - Updating analysis bundle: 002a7698-8edc-4b27-ac1e-9e476484449b
2025-08-11 15:52:00,928 - app.services.db.analysis_service - INFO - Bundle updated successfully: 002a7698-8edc-4b27-ac1e-9e476484449b
2025-08-11 15:52:00,935 - app.services.workout_analysis_service - INFO - Analysis task completed successfully for conversation 1b87c446-6a7f-4533-a2dd-8657f9baec8e
2025-08-11 15:52:00,935 - app.main - INFO - Response status: 200
2025-08-11 15:52:01,112 - app.main - INFO - Request: GET /api/dashboard
2025-08-11 15:52:01,113 - app.main - INFO - Response status: 200
2025-08-11 15:52:17,188 - app.main - INFO - Request: POST /images/temp-upload
2025-08-11 15:52:17,191 - app.api.endpoints.images - INFO - API request to create temp image for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-08-11 15:52:17,191 - app.services.storage.image_service - INFO - Creating temp image record for path: images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/b95dd079-f774-43ba-8fa4-550b5a105abc.jpg
2025-08-11 15:52:17,641 - app.services.storage.image_service - INFO - Signed URL response type: <class 'dict'>
2025-08-11 15:52:17,642 - app.services.storage.image_service - INFO - Created temp image record with ID: 3ec9d5b0-9e72-4a90-ad15-e16421427515
2025-08-11 15:52:17,642 - app.services.storage.image_service - INFO - Successfully extracted upload URL
2025-08-11 15:52:17,642 - app.services.storage.image_service - INFO - About to return response: {'image_id': '3ec9d5b0-9e72-4a90-ad15-e16421427515', 'upload_url': 'https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/upload/sign/images/images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/b95dd079-f774-43ba-8fa4-550b5a105abc.jpg?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8wNDg3ODljNy1mYmQ1LTQ4OWQtYjVmNC03NjM1NWFhMDRhODYiLCJhbGciOiJIUzI1NiJ9.eyJvd25lciI6IjFlMmQ2MTkwLTVkNTItNGY0OC05NzRjLTdhNWE0M2E1MGJmMyIsInVybCI6ImltYWdlcy9pbWFnZXMvMWUyZDYxOTAtNWQ1Mi00ZjQ4LTk3NGMtN2E1YTQzYTUwYmYzL2I5NWRkMDc5LWY3NzQtNDNiYS04ZmE0LTU1MGI1YTEwNWFiYy5qcGciLCJ1cHNlcnQiOmZhbHNlLCJpYXQiOjE3NTQ5MjM5MzcsImV4cCI6MTc1NDkzMTEzN30.Krr5N12JEm5xtSon_Osl4LQyd2N9x8d_vAYHj3NSSwU', 'file_path': 'images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/b95dd079-f774-43ba-8fa4-550b5a105abc.jpg'}
2025-08-11 15:52:17,642 - app.services.storage.image_service - INFO - Final formatted response: {'success': True, 'data': {'image_id': '3ec9d5b0-9e72-4a90-ad15-e16421427515', 'upload_url': 'https://sfniyudipwsaqwuhsdcq.supabase.co/storage/v1/object/upload/sign/images/images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/b95dd079-f774-43ba-8fa4-550b5a105abc.jpg?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8wNDg3ODljNy1mYmQ1LTQ4OWQtYjVmNC03NjM1NWFhMDRhODYiLCJhbGciOiJIUzI1NiJ9.eyJvd25lciI6IjFlMmQ2MTkwLTVkNTItNGY0OC05NzRjLTdhNWE0M2E1MGJmMyIsInVybCI6ImltYWdlcy9pbWFnZXMvMWUyZDYxOTAtNWQ1Mi00ZjQ4LTk3NGMtN2E1YTQzYTUwYmYzL2I5NWRkMDc5LWY3NzQtNDNiYS04ZmE0LTU1MGI1YTEwNWFiYy5qcGciLCJ1cHNlcnQiOmZhbHNlLCJpYXQiOjE3NTQ5MjM5MzcsImV4cCI6MTc1NDkzMTEzN30.Krr5N12JEm5xtSon_Osl4LQyd2N9x8d_vAYHj3NSSwU', 'file_path': 'images/1e2d6190-5d52-4f48-974c-7a5a43a50bf3/b95dd079-f774-43ba-8fa4-550b5a105abc.jpg'}, 'error': None}
2025-08-11 15:52:17,643 - app.main - INFO - Response status: 200
2025-08-11 15:54:28,051 - app - INFO - Logging has been set up
2025-08-11 15:54:28,051 - app.main - INFO - Application starting
2025-08-11 15:54:28,051 - app.main - INFO - Loading .env from: /Users/mileshillary/Desktop/learning/projects/volc/supreme-octo-doodle/backend/app/.env (exists: False)
2025-08-11 15:54:28,051 - app.main - INFO - SUPABASE_URL present: True
2025-08-11 15:54:28,051 - app.main - INFO - SUPABASE_KEY present: False
