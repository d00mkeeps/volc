2025-08-09 16:54:53,483 - app.services.db.workout_service - INFO - Updated bicep leaderboard for user 1e2d6190-5d52-4f48-974c-7a5a43a50bf3: 74.27 1RM
2025-08-09 16:54:53,488 - app.services.db.workout_service - INFO - Workout creation complete for ID: 326793cf-52ba-4087-9834-bad74f0619ac
2025-08-09 16:54:53,489 - app.main - INFO - Response status: 200
2025-08-09 16:54:53,632 - app.main - INFO - Request: PUT /db/workouts/d97135fa-0d0a-4c99-a3a7-de5b31987e2c
2025-08-09 16:54:53,708 - app.api.endpoints.db - INFO - API request to update workout: d97135fa-0d0a-4c99-a3a7-de5b31987e2c
2025-08-09 16:54:53,708 - app.services.db.workout_service - INFO - Getting workout: d97135fa-0d0a-4c99-a3a7-de5b31987e2c
2025-08-09 16:54:53,798 - app.services.db.workout_service - INFO - Successfully retrieved workout: d97135fa-0d0a-4c99-a3a7-de5b31987e2c
2025-08-09 16:54:53,799 - app.services.db.workout_service - INFO - Updating workout: d97135fa-0d0a-4c99-a3a7-de5b31987e2c
2025-08-09 16:54:55,323 - app.services.db.workout_service - INFO - Successfully updated workout: d97135fa-0d0a-4c99-a3a7-de5b31987e2c
2025-08-09 16:54:55,325 - app.main - INFO - Response status: 200
2025-08-09 16:54:55,613 - app.main - INFO - Request: POST /api/workout-analysis
2025-08-09 16:54:55,729 - app.services.db.conversation_service - INFO - Creating empty conversation with title: Analysis - Aug 09 for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-08-09 16:54:55,813 - app.services.db.conversation_service - INFO - Empty conversation created with ID: 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:55,814 - app.services.workout_analysis_service - INFO - Starting analysis task for conversation: 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:55,814 - app.services.db.analysis_service - INFO - Creating empty analysis bundle: 759a818f-b62a-4d15-8915-9bc87a937c3d for conversation: 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:55,900 - app.services.db.analysis_service - INFO - Empty bundle created successfully with ID: 759a818f-b62a-4d15-8915-9bc87a937c3d
2025-08-09 16:54:55,901 - app.services.workout_analysis_service - INFO - Created empty bundle: 759a818f-b62a-4d15-8915-9bc87a937c3d
2025-08-09 16:54:55,901 - app.services.db.analysis_service - INFO - Updating bundle 759a818f-b62a-4d15-8915-9bc87a937c3d status to: in_progress
2025-08-09 16:54:55,983 - app.services.db.analysis_service - INFO - Bundle status updated successfully: 759a818f-b62a-4d15-8915-9bc87a937c3d -> in_progress
2025-08-09 16:54:55,984 - app.services.db.workout_service - INFO - Calling RPC for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3, definitions: ['bbb2acc5-935c-4fab-ab74-eabc6cf94eec', 'f42cf0c2-51cf-4e22-9b1c-d7b83f5c62fa']
2025-08-09 16:54:56,064 - app.services.db.workout_service - INFO - RPC returned: 2 workouts
2025-08-09 16:54:56,065 - app.services.workout_analysis_service - INFO - Processing analysis for 2 workouts
2025-08-09 16:54:56,065 - app.services.workout_analysis.main_processor - INFO - Processing bundle 759a818f-b62a-4d15-8915-9bc87a937c3d with 2 workouts
2025-08-09 16:54:56,065 - app.services.workout_analysis.calc.strength - INFO - Found 2 exercises with strength data, returning top 3
2025-08-09 16:54:56,065 - app.services.workout_analysis.calc.strength - INFO - Generated time series for 2 exercises
2025-08-09 16:54:56,066 - app.services.workout_analysis.calc.volume - INFO - Found 2 exercises with volume data, returning top 3
2025-08-09 16:54:56,066 - app.services.workout_analysis.calc.volume - INFO - Generated time series for 2 exercises
2025-08-09 16:54:56,066 - app.services.workout_analysis.calc.consistency - INFO - Calculated consistency: avg_gap=0.8, variance=None
2025-08-09 16:54:56,116 - app.services.workout_analysis.main_processor - INFO - Successfully processed bundle 759a818f-b62a-4d15-8915-9bc87a937c3d
2025-08-09 16:54:56,116 - app.services.db.analysis_service - INFO - Updating analysis bundle: 759a818f-b62a-4d15-8915-9bc87a937c3d
2025-08-09 16:54:56,201 - app.services.db.analysis_service - INFO - Bundle updated successfully: 759a818f-b62a-4d15-8915-9bc87a937c3d
2025-08-09 16:54:56,206 - app.services.workout_analysis_service - INFO - Analysis task completed successfully for conversation 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:56,206 - app.main - INFO - Response status: 200
2025-08-09 16:54:56,309 - app.main - INFO - Request: GET /db/conversations/07ed1f78-9c8e-4f66-a2f5-a361032e9838/messages
2025-08-09 16:54:56,413 - app.api.endpoints.db - INFO - API request to get messages for conversation: 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:56,413 - app.services.db.conversation_service - INFO - Getting conversation: 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:56,492 - app.services.db.conversation_service - INFO - Retrieved conversation: 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:56,492 - app.services.db.message_service - INFO - Getting messages for conversation: 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:56,566 - app.services.db.message_service - INFO - Retrieved 0 messages
2025-08-09 16:54:56,566 - app.main - INFO - Request: GET /api/dashboard
2025-08-09 16:54:56,567 - app.main - INFO - Response status: 200
2025-08-09 16:54:56,569 - app.main - INFO - Response status: 200
2025-08-09 16:54:56,572 - app.services.llm.workout_analysis - INFO - WebSocket connection accepted for conversation: 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:56,577 - app.services.llm.workout_analysis - INFO - Loading conversation context via unified service
2025-08-09 16:54:56,577 - app.services.context.conversation_context_service - INFO - ðŸ”„ UNIFIED SERVICE: Loading context for conversation: 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:56,577 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHE MISS: Loading from database for conversation: 07ed1f78-9c8e-4f66-a2f5-a361032e9838 (check took 0.00s)
2025-08-09 16:54:56,577 - app.core.utils.conversation_attachments - INFO - Loading conversation context for: 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:56,658 - app.core.utils.conversation_attachments - INFO - Successfully loaded 0 messages and 1 complete bundles for conversation 07ed1f78-9c8e-4f66-a2f5-a361032e9838
2025-08-09 16:54:56,658 - app.services.context.conversation_context_service - INFO - ðŸ’¾ CACHED: Stored context for conversation: 07ed1f78-9c8e-4f66-a2f5-a361032e9838 (expires in 30 min)
2025-08-09 16:54:56,658 - app.services.context.conversation_context_service - INFO - âœ… UNIFIED SERVICE: Context loaded successfully in 0.08s - 0 messages, 1 bundles
2025-08-09 16:54:57,593 - app.services.chains.base_conversation_chain - INFO - Loaded 0 messages into conversation history
2025-08-09 16:54:57,593 - app.services.chains.workout_analysis_chain - INFO - Loaded 1 workout bundles into conversation context
2025-08-09 16:54:57,594 - app.services.llm.workout_analysis - INFO - New conversation with workout data - sending proactive analysis
2025-08-09 16:54:57,595 - app.services.chains.base_conversation_chain - INFO - 
=== Formatted Messages ===
2025-08-09 16:54:57,595 - app.services.chains.base_conversation_chain - INFO - 
Message 1 (SystemMessage):
