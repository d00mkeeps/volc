2025-06-05 22:39:10,613 - app.api.endpoints.db - INFO - API request to get graph bundles for conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:10,615 - app.services.db.graph_bundle_service - INFO - Getting graph bundles for conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:10,667 - app.services.db.graph_bundle_service - INFO - No graph bundles found for conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:10,667 - app.api.endpoints.db - INFO - Retrieved 0 graph bundles for conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:10,668 - app.main - INFO - Response status: 200
2025-06-05 22:39:10,669 - app.main - INFO - Response status: 200
2025-06-05 22:39:10,669 - app.main - INFO - Response status: 200
2025-06-05 22:39:10,670 - app.main - INFO - Response status: 200
2025-06-05 22:39:10,704 - app.services.llm.workout_analysis - INFO - WebSocket connection accepted for conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:12,886 - app.services.llm.workout_analysis - ERROR - Error in LLM websocket: (1000, '')
Traceback (most recent call last):
  File "/Users/mileshillary/Documents/supreme-octo-doodle/backend/app/services/llm/workout_analysis.py", line 56, in process_websocket
    data = await websocket.receive_json()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/websockets.py", line 135, in receive_json
    self._raise_on_disconnect(message)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/websockets.py", line 113, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1000, '')
2025-06-05 22:39:12,903 - app.main - INFO - Request: GET /db/conversations
2025-06-05 22:39:12,964 - app.api.endpoints.db - INFO - API request to get active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:39:12,965 - app.api.endpoints.db - INFO - Creating ConversationService instance
2025-06-05 22:39:12,965 - app.api.endpoints.db - INFO - Supabase client available: True
2025-06-05 22:39:13,023 - app.api.endpoints.db - INFO - Supabase client test query successful
2025-06-05 22:39:13,024 - app.api.endpoints.db - INFO - Calling get_user_conversations method
2025-06-05 22:39:13,024 - app.services.db.conversation_service - INFO - Getting active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:39:13,079 - app.services.db.conversation_service - INFO - Retrieved 20 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:39:13,079 - app.api.endpoints.db - INFO - Retrieved 20 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:39:13,081 - app.main - INFO - Response status: 200
2025-06-05 22:39:13,465 - app.main - INFO - Request: GET /db/conversations/f2f42323-dee9-43af-9675-903646ca0a4e/messages
2025-06-05 22:39:13,529 - app.api.endpoints.db - INFO - API request to get messages for conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,530 - app.services.db.conversation_service - INFO - Getting conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,585 - app.services.db.conversation_service - INFO - Retrieved conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,585 - app.services.db.conversation_service - INFO - Getting messages for conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,645 - app.services.db.conversation_service - INFO - Retrieved 3 messages for conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,645 - app.main - INFO - Request: GET /db/conversations/f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,646 - app.main - INFO - Request: GET /db/conversations/f2f42323-dee9-43af-9675-903646ca0a4e/messages
2025-06-05 22:39:13,646 - app.main - INFO - Request: GET /db/graph-bundles
2025-06-05 22:39:13,701 - app.api.endpoints.db - INFO - API request to get conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,701 - app.services.db.conversation_service - INFO - Getting conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,754 - app.services.db.conversation_service - INFO - Retrieved conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,824 - app.api.endpoints.db - INFO - API request to get messages for conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,824 - app.services.db.conversation_service - INFO - Getting conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,877 - app.services.db.conversation_service - INFO - Retrieved conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,877 - app.services.db.conversation_service - INFO - Getting messages for conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,930 - app.services.db.conversation_service - INFO - Retrieved 3 messages for conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,990 - app.api.endpoints.db - INFO - API request to get graph bundles for conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:13,990 - app.services.db.graph_bundle_service - INFO - Getting graph bundles for conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:14,045 - app.services.db.graph_bundle_service - INFO - No graph bundles found for conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:14,046 - app.api.endpoints.db - INFO - Retrieved 0 graph bundles for conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:14,047 - app.main - INFO - Response status: 200
2025-06-05 22:39:14,047 - app.main - INFO - Response status: 200
2025-06-05 22:39:14,048 - app.main - INFO - Response status: 200
2025-06-05 22:39:14,048 - app.main - INFO - Response status: 200
2025-06-05 22:39:14,150 - app.services.llm.workout_analysis - INFO - WebSocket connection accepted for conversation: f2f42323-dee9-43af-9675-903646ca0a4e
2025-06-05 22:39:15,306 - app.services.llm.workout_analysis - ERROR - Error in LLM websocket: (1000, '')
Traceback (most recent call last):
  File "/Users/mileshillary/Documents/supreme-octo-doodle/backend/app/services/llm/workout_analysis.py", line 56, in process_websocket
    data = await websocket.receive_json()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/websockets.py", line 135, in receive_json
    self._raise_on_disconnect(message)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/websockets.py", line 113, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1000, '')
2025-06-05 22:39:15,324 - app.main - INFO - Request: GET /db/conversations
2025-06-05 22:39:15,393 - app.api.endpoints.db - INFO - API request to get active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:39:15,394 - app.api.endpoints.db - INFO - Creating ConversationService instance
2025-06-05 22:39:15,394 - app.api.endpoints.db - INFO - Supabase client available: True
2025-06-05 22:39:15,456 - app.api.endpoints.db - INFO - Supabase client test query successful
2025-06-05 22:39:15,456 - app.api.endpoints.db - INFO - Calling get_user_conversations method
2025-06-05 22:39:15,456 - app.services.db.conversation_service - INFO - Getting active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:39:15,509 - app.services.db.conversation_service - INFO - Retrieved 20 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:39:15,509 - app.api.endpoints.db - INFO - Retrieved 20 active conversations for user: 1e2d6190-5d52-4f48-974c-7a5a43a50bf3
2025-06-05 22:39:15,511 - app.main - INFO - Response status: 200
2025-06-05 22:39:23,687 - app.main - INFO - Request: GET /db/conversations/1e94a416-3257-4eac-826f-505f48541b49/messages
2025-06-05 22:39:23,824 - app.api.endpoints.db - INFO - API request to get messages for conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:23,824 - app.services.db.conversation_service - INFO - Getting conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:23,972 - app.services.db.conversation_service - INFO - Retrieved conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:23,972 - app.services.db.conversation_service - INFO - Getting messages for conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:24,040 - app.services.db.conversation_service - INFO - Retrieved 7 messages for conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:24,041 - app.main - INFO - Request: GET /db/conversations/1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:24,041 - app.main - INFO - Response status: 200
2025-06-05 22:39:24,101 - app.api.endpoints.db - INFO - API request to get conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:24,101 - app.services.db.conversation_service - INFO - Getting conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:24,196 - app.services.db.conversation_service - INFO - Retrieved conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:24,198 - app.main - INFO - Request: GET /db/conversations/1e94a416-3257-4eac-826f-505f48541b49/messages
2025-06-05 22:39:24,266 - app.api.endpoints.db - INFO - API request to get messages for conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:24,266 - app.services.db.conversation_service - INFO - Getting conversation: 1e94a416-3257-4eac-826f-505f48541b49
2025-06-05 22:39:24,363 - app.services.db.conversation_service - INFO - Retrieved conversation: 1e94a416-3257-4eac-826f-505f48541b49
